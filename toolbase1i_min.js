function savechartcolor(red){var num;if(red==1){num=currentdownchartcolor+2;configlist=configlist.substring(0,1)+num+configlist.substring(2)}else{num=currentupchartcolor;configlist=configlist.substring(0,7)+num+configlist.substring(8)}
getsetCookie(0,'sc666config',configlist);updateglobs(0,activelist[0],0);callsavewindow(1);turnoffbigchart(0);writelargechart(currentzoom);gdivname=getid('ttb');gdivname2=getid('ttc');ton(0,1192,615)}
function zoomchart(num,setit){var nochange=0;if(setit)currentzoom=num;else if(num>0)currentzoom++;else currentzoom--;if(currentzoom>4){currentzoom=4;nochange=1}
if(currentzoom<0){currentzoom=0;nochange=1}
if(nochange==0){turnoffbigchart(0);writelargechart(currentzoom);gdivname=getid('ttb');gdivname2=getid('ttc');ton(0,1192,615);getid('zlevel').innerHTML=zoomlevels[currentzoom]}}
function writepricevol(){var ts='',ts2='',ts3='&nbsp;';writesecheader('Quote & Volume','<span class="ssp16" style="padding-left:10px;">Scale +/-0(min) to 10(max)</span>','left','secid11');inhtmlclr();if((sample==1)&&(mobilemode==0))
inhtml('<div style="display:inline-block;vertical-align:top;padding-right:7px;width:'+(standwidthout-307-10)+'px;">');if(mobilemode==1)
inhtml('<div style="padding-right:10px;">');wrind('QUOTE',1,1);var n=0,l3=[],volchange=0.0,pchange=mr((cprice-prevclose)*100.0)/100.0,psign="+",ftcolor="#0000EE",ppercent=trimnumfxd(mr((pchange/prevclose)*10000.0)/100.0);if(pchange<0){psign="";ftcolor="#EE0000"}
if(rchange>0)
tempstr=rchange;else tempstr=-rchange+11;var dailyrangeh,dailyrangel,daily2xrangeh,daily2xrangel;dailyrangeh=trimnum(prevclose+(cprice*reswidth));dailyrangel=trimnum(prevclose-(cprice*reswidth));daily2xrangeh=trimnum(prevclose+(cprice*reswidth*2.0));daily2xrangel=trimnum(prevclose-(cprice*reswidth*2.0));inhtml('<span class="ssp16b">'+cprice+'</span>, <span class="ssp16b" style="color:'+ftcolor+'">'+psign+pchange+'</span> pts (<span class="ssp16b" style="color:'+ftcolor+'">'+psign+ppercent+'%</span>),'+ts3+curdatadate+indmid2+writebarg(rchange,1,0)+pricesdescrip[tempstr]+' from yesterday\'s close'+pricesdescripmore[tempstr]+indmid2+'<div style="height:4px"><!-- --></div>Today\'s');var ohlstr='',fontstr='ssp16',doopen=1;if(lowpriceday>0)ohlstr+='<font color="#ee0000"><b>L</b> '+lowpriceday+'</font>';if((doopen)&&(openpriceday>0))ohlstr+='&nbsp;<b>O</b> '+openpriceday;if(highpriceday>0)ohlstr+='<font color="#0000ee">&nbsp;<b>H</b> '+highpriceday+'</font>';if(ohlstr!='')ohlstr='<span style="padding-left:10px;" class="'+fontstr+'">'+ohlstr+'</span>';inhtml(ohlstr+'<div style="padding-top:3px;padding-left:0px">Typical price range: <span class="ssp16b">'+dailyrangel+'</span> to <span class="ssp16b">'+dailyrangeh+'</span> '+dvblk+'&#177 '+trimnum(cprice*reswidth)+' pts, &#177 '+trimnumfxd(cprice*reswidth/cprice*100.0)+'%</div>'+'<br> Extreme price range (85% of time) <span class="ssp16b">'+daily2xrangel+'</span> to <span class="ssp16b">'+daily2xrangeh+'</span> '+dvblk+'&#177 '+trimnum(cprice*reswidth*2.0)+' pts, &#177 '+trimnumfxd(cprice*reswidth*2.0/cprice*100.0)+'%</div></div>'+endind2);pricestr=cprice+', <font color="'+ftcolor+'">'+psign+pchange+' pts ('+psign+ppercent+'%)</font>';wrind('VOLUME',1,1);psign="";ftcolor="#EE0000";if((indexes==1)&&(indxmult==0))
l3[n++]='No Volume';else{l3[n++]='<span class="ssp16b">'+volscale(curvold)+'</span> shares, ';ftcolor="#ee0000";if(globtimerat<1.0){tempstr=curdatadate.split(",");if((avgvold*globtimerat)>0.0)
volchange=trimnum((curvold-(avgvold*globtimerat))/(avgvold*globtimerat)*100.0);if(volchange>=0.0){psign="+";ftcolor="#0000ee"}
l3[n++]='<span class="ssp16b" style="color:'+ftcolor+'">'+psign+trimnumfxd(volchange)+'%</span> compared to '+ts+'typical volume of <span class="ssp16b">'+volscale(avgvold*globtimerat)+'</span> by '+tempstr[1]+'.'+ts2}else{if(avgvold>0.0)
volchange=trimnum((curvold-avgvold)/avgvold*100.0);if(volchange>=0.0){psign="+";ftcolor="#0000EE"}
l3[n++]='<span class="ssp16b" style="color:'+ftcolor+'">'+psign+trimnumfxd(volchange)+'%</span> compared to '+ts+'typical daily volume over the past 6 months.'+ts2}
l3[n++]=indmid2;if(volchange>70.0)
l3[n++]='<div style="padding-top:3px;" class="ssp14b">High Volume alert!</div>';l3[n++]='Typical daily volume is <span class="ssp16b">'+volscale(avgvold)+'</span> shares over the past 6 months.'}
l3[n++]=endind2;inhtml(l3.join(""));wrind('RALLIES/PULLBACKS',1,1,'** Current price area');inhtml('Typical: <span class="ssp16b">'+typmove+'</span> pts ('+(mr(typmove/cprice*100.0*10.0)/10.0)+'%) occurs 25% of the time.'+indmid2+'Extreme: <span class="ssp16b">'+exmove+'</span> pts ('+(mr(exmove/cprice*100.0*10.0)/10.0)+'%) occurs 5% of the time.'+endind2+smallsp+smallsp);if(mobilemode==1)
inhtml('</div>');if((sample==1)&&(mobilemode==0))
inhtml('</div><div id="iv300ad" style="display:inline-block;overflow-x:hidden;vertical-align:top;padding-top:5px;padding-right:3px;width:300px;"></div>');if((sample==1)&&(mobilemode==1)){var padl=10;if(winwidth<smallmobilewidth)padl=0;inhtml('<div id="iv300ad" style="overflow-x:hidden;padding:5px 0px 10px '+padl+'px;width:300px;"></div>')}
inhtml('</div>');inhtmlout()}
function writechartoptions(name){return('<div style="padding-top:5px;white-space:nowrap;display:inline-block"><a rel="nofollow" class="ssp18" id="chartoptw'+name+'" style="position:relative;top:-1px;border-width:0px;background:#6E87A4;padding:5px 12px;border-radius:12px;color:#fff;text-decoration:none;" href="https://www.stockconsultant.com/consultnow/chartoptions6l.html">Chart Settings</a></div>')}
function changechartcolor(colorindex,red){if(red==1)currentdownchartcolor=colorindex;else currentupchartcolor=colorindex;updatechartcolorglobs();savechartcolor(red)}
function detailedchart(){var l3=[],l3n=0;bodid2.insertAdjacentHTML('beforeend','<div id="lchart2"><!-- --></div><div id="lchart"><!-- --></div>');if(mobilemode==0){l3[l3n++]='<select style="padding:3px 1px;" class="ssp17" onchange="changechartcolor(this.selectedIndex,0);">';for(i2=0;i2<chartupcolors.length;i2++){l3[l3n++]='<option ';if(i2==currentupchartcolor)l3[l3n++]='SELECTED';l3[l3n++]='>'+chartupcolors[i2]+'</option>'}
l3[l3n++]='</select> &nbsp; ';l3[l3n++]='<select style="padding:3px 1px;" class="ssp17" onchange="changechartcolor(this.selectedIndex,1);">';for(i2=0;i2<chartdowncolors.length;i2++){l3[l3n++]='<option ';if(i2==currentdownchartcolor)l3[l3n++]='SELECTED';l3[l3n++]='>'+chartdowncolors[i2]+'</option>'}
l3[l3n++]='</select>'}
var candlelinks='<a style="text-decoration:none;padding-left:25px" href="'+ow(-1,40,0,0,1)+'" target="htab">About Candlesticks</a><a style="text-decoration:none;padding-left:10px" href="'+ow(-1,114,0,0,1)+'"target="htab">Basic</a><a style="text-decoration:none;padding-left:10px" href="'+ow(-1,115,0,0,1)+'"target="htab">Bullish</a><a style="text-decoration:none;padding-left:10px" href="'+ow(-1,116,0,0,1)+'"target="htab">Bearish</a>';if(mobilemode==1)candlelinks='';writesecheader('Detailed Chart','<span style="padding-left:15px">'+writechartoptions('')+candlelinks+'</span>','left','secid2');inhtmlclr();if(nochart==1)
inhtml('<br><br><center><b>No 8 month chart available</b></center><br><br>');else{if(mobilemode==0)
inhtml('<div class="ssp17" style="text-align:right;padding-right:20px;padding-top:2px;padding-bottom:10px;"><div style="display:inline-block;width:auto;text-align:left;">Default zoom <select style="padding:3px 1px;" class="ssp17" id="zoomcharta" onChange="zoomchart(this.selectedIndex,1);changechartzoom(this.selectedIndex);"><OPTION>100%</OPTION><OPTION>125%</OPTION><OPTION>150%</OPTION><option>175%</option><option>200%</option></select><div class="ssp16" style="display:inline-block;padding-left:5px;">125% rec</div> <span style="padding-left:15px;">Colors '+l3.join('')+'</span></div></div>');writelargechart(currentzoom)}
if((iever==0)&&(isabot==0)&&(sample==1)&&(mobilemode==1))
inhtml('<div style="padding-left:25px;padding-bottom:15px;padding-top:10px;"><div style="border:1px solid #cacbcc;border-radius:12px;padding:5px;padding-top:10px;width:305px;"><div id="iv728ad" style="overflow:hidden;height:465px;"></div></div></div>');inhtmlout();if((nochart==0)&&(mobilemode==0))getid('zoomcharta').selectedIndex=currentzoom}
function writeoverallsum(idstr){var canvas=document.getElementById(idstr);var value=sumvalue;var label=sumtype;var arccolor=sumcolor;var context=canvas.getContext('2d');context.lineWidth=16;var x=canvas.width*0.50;var y=canvas.height;var radius=canvas.width*0.5-context.lineWidth*0.5;var startAngle=((value-50)*0.02+1.0)*Math.PI;var endAngle=0;context.beginPath();context.arc(x,y,radius,startAngle,endAngle);context.strokeStyle='#d7d8d9';context.stroke();startAngle=Math.PI;endAngle=((value-50)*0.02+1.0)*Math.PI;context.beginPath();context.arc(x,y,radius,startAngle,endAngle);context.strokeStyle=arccolor;context.stroke();var canvastext=document.getElementById(idstr+'txt');canvastext.style.top=(canvas.height-11)+'px';if(value==100)canvastext.style.left=(canvas.width*0.5-14)+'px';else canvastext.style.left=(canvas.width*0.5-9)+'px';canvastext.style.color=arccolor;canvastext.innerHTML=value+'%';var canvaslabel=document.getElementById(idstr+'lbl');canvaslabel.style.color='#121212';if(label.indexOf('Extreme')>=0)canvaslabel.style.fontSize="13px";canvaslabel.innerHTML=label}
function linksgraph(){if(schart!=1){var bwidth;if(gtime2>=0)gtime=gtime2;defg[gtime]='selected="yes"';defg2[activelist[5]-1]='selected="yes"';var l3=[],n=0,tmpstr,outstr,fc1='<div style="padding:2px;padding-right:0px;padding-left:5px;line-height:1.7em;" class="ssp16">',fc1b='<div style="padding:2px;padding-right:0px;padding-left:5px;line-height:1.7em;background:#eeeff0;" class="ssp16">',fc1bc='<div style="padding:2px;padding-right:0px;padding-left:5px;line-height:1.7em;background:#eeeff0;" class="ssp16">',fc2='<div style="height:3px;"><!-- --></div>',fc3='</a></div>';if(noresults==0){var widebrpanel=0,brtype=0,bdtype=0;if(bugraph==brgraph)
sumcolor=sumneut;else if(bugraph>brgraph){sumcolor=sumblue;sumvalue=bugraph;sumtype='Bullish'}else{sumcolor=sumred;sumvalue=brgraph;sumtype='Bearish'}
if(sumvalue<=60)
sumtype='Neutral';else if((sumvalue>60)&&(sumvalue<=75))
sumtype='Mild '+sumtype;else if(sumvalue==90)
sumtype='Strong '+sumtype;else if(sumvalue>=95)
sumtype='Extreme '+sumtype;var overstr='';if(winwidth<smallmobilewidth)
overstr='overflow-x:auto;';l3[n++]='<div style="padding:5px;'+overstr+'"><div style="min-width:395px;padding:4px 3px 2px 2px;background:#eeeff0;border:1px solid #cacbcc;border-radius:12px;text-align:left;vertical-align:top;">';var tabsp10='<div style="display:inline-block;width:10px;height:65px;vertical-align:top;">&nbsp;</div>';if(confirmupbrk==1){l3[n++]='<div style="position:relative;min-width:130px;white-space:nowrap;display:inline-block;"><font class="ssp14b">Breakout Confirmed</font>';l3[n++]='<div style="padding-left:20px;padding-top:7px;width:100px;height:60px"><img width=100 height=60 '+ilnk+'breakout100x60d.png"></div>';l3[n++]='<div class="ssp14" style="z-index:9;position:absolute;left:40px;top:26px;">'+upsidebreak+'</div>';l3[n++]='</div>';brtype=1}else if(confirmdwnbrk==1){l3[n++]='<div style="position:relative;min-width:130px;white-space:nowrap;display:inline-block;"><font class=ssp14b>Breakdwn Confirmed</font>';l3[n++]='<div style="padding-left:20px;padding-top:7px;width:100px;height:60px"><img width=100 height=60 '+ilnk+'breakdown100x60d.png"></div>';l3[n++]='<div class="ssp14" style="z-index:9;position:absolute;left:40px;top:76px;">'+dwnsidebreak+'</div>';l3[n++]='</div>';bdtype=1}else if((((isnotbullish)&&(!bullish1daymonflow)&&(justoutres>=0)&&(dwnsidebreak>0.0))||((justinres>=0)&&(dwnsidebreak>0.0)))&&(((isnotbearish)&&(!bearish1daymonflow)&&(justoutres>=0)&&(upsidebreak>0.0))||((justinres>=0)&&(upsidebreak>0.0)))){l3[n++]='<div style="position:relative;min-width:130px;white-space:nowrap;display:inline-block;"><font class=ssp14b>Breakout/d Watch</font>';l3[n++]='<div style="padding-left:10px;padding-top:7px;width:100px;height:60px"><img width=100 height=60 '+ilnk+'breakoutdownw100x60d.png"></div>';l3[n++]='<div class="ssp14" style="z-index:9;position:absolute;left:40px;top:24px;">'+upsidebreak+'</div>';l3[n++]='<div class="ssp14" style="z-index:9;position:absolute;left:40px;top:77px;">'+dwnsidebreak+'</div>';l3[n++]='</div>';widebrpanel=1}else if((((isnotbearish)&&(!bearish1daymonflow)&&(justoutres>=0)&&(upsidebreak>0.0))||((justinres>=0)&&(upsidebreak>0.0)))){l3[n++]='<div style="position:relative;min-width:120px;white-space:nowrap;display:inline-block;"><font class=ssp14b>Breakout Watch</font>';l3[n++]='<div style="padding-left:5px;padding-top:7px;width:100px;height:60px"><img width=100 height=60 '+ilnk+'breakoutw100x60d.png"></div><div class="ssp14" style="z-index:9;position:absolute;left:40px;top:26px;">'+upsidebreak+'</div></div>';brtype=2}else if((((isnotbullish)&&(!bullish1daymonflow)&&(justoutres>=0)&&(dwnsidebreak>0.0))||((justinres>=0)&&(dwnsidebreak>0.0)))){l3[n++]='<div style="position:relative;min-width:120px;white-space:nowrap;display:inline-block;"><font class=ssp14b>Breakdwn Watch</font>';l3[n++]='<div style="padding-left:5px;padding-top:7px;width:100px;height:60px"><img width=100 height=60 '+ilnk+'breakdownw100x60d.png"></div><div class="ssp14" style="z-index:9;position:absolute;left:40px;top:76px;">'+dwnsidebreak+'</div></div>';bdtype=2}
if((tabletmode==0)&&(mobilemode==0)&&((widebrpanel>0)||(brtype>0)||(bdtype>0))){l3[n++]=tabsp10}
l3[n++]='<div style="display:inline-block;vertical-align:top;min-width:97px;"><span style="padding-left:21px;" class="ssp14b">Overall</span>';l3[n++]='<div style="padding:0px 0px;"><div style="position:relative;height:64px;">';l3[n++]='<div id="overallsumtxt" class="ssp15b" style="z-index:2;position:absolute;top:32px;left:37px;"><!-- --></div>';l3[n++]='<div id="overallsumlbl" class="ssp14" style="width:102px;text-align:center;z-index:2;position:absolute;top:54px;left:-5px;"><!-- --></div>';l3[n++]='<canvas style="z-index:1;position:absolute;top:6px;left:5px;" id="overallsum" width="82" height="44"></canvas>';l3[n++]='</div></div></div>';if((tabletmode==0)&&(mobilemode==0))
l3[n++]=tabsp10;l3[n++]=tradequalitysum(tquall,tquals);var btradetitle='',sumstr='';if((brtype==1)||(brtype==2))btradetitle='Breakout';else if((bdtype==1)||(bdtype==2))btradetitle='Breakdown';else if(widebrpanel==1)btradetitle='Breakout/down';var padbrtop=0;if((tabletmode==1)||(mobilemode==1))padbrtop=5;if(tabletmode==0)
l3[n++]=tabsp10+tabsp10;else if(mobilemode==1)
l3[n++]='<div style="height:5px;"><!-- --></div>';else l3[n++]=tabsp10;var breakoutt=0;if((brtype==1)||(bdtype==1)||(brtype==2)||(bdtype==2)||(widebrpanel==1)){breakoutt=1;l3[n++]='<div style="display:inline-block;vertical-align:top;padding-top:'+padbrtop+'px;padding-left:5px;white-space:nowrap;">';l3[n++]='<span class="ssp14b">'+btradetitle+' trade</span>';l3[n++]='<div class="ssp14" style="color:#121212;padding-top:0px;padding-left:12px;line-height:1.7em;">';if(brtype==1)l3[n++]=writebreakoutsum();else if(bdtype==1)l3[n++]=writebreakdownsum();else if(widebrpanel==1)l3[n++]=writebreakoutdownsum();else if(brtype==2)l3[n++]=writebreakoutsum();else if(bdtype==2)l3[n++]=writebreakdownsum();l3[n++]='</div></div>'}else{var writetql=-1;if((sumvalue>60)&&(bugraph>brgraph)&&(tquall>=70))writetql=1;else if((sumvalue>60)&&(bugraph>brgraph)&&(tquall>=60))writetql=1;else if((sumvalue<=60)&&(bugraph>brgraph)&&(tquall>=70))writetql=1;else if((sumvalue==50)&&(tquall>=70))writetql=1;else if((sumvalue>60)&&(bugraph<brgraph)&&(tquals>=70))writetql=0;else if((sumvalue>60)&&(bugraph<brgraph)&&(tquals>=60))writetql=0;else if((sumvalue<=60)&&(bugraph<brgraph)&&(tquals>=70))writetql=0;else if((sumvalue==50)&&(tquals>=70))writetql=0;if(writetql==-1){if((sumvalue<=60)&&(tquall>=70))writetql=1;else if((sumvalue<=60)&&(tquals>=70))writetql=0}
if(writetql>=0){if(writetql)btradetitle='Long';else btradetitle='Short';l3[n++]='<div style="display:inline-block;vertical-align:top;padding-top:'+padbrtop+'px;padding-left:5px;">';l3[n++]='<span class="ssp14b">'+btradetitle+' Trade</span>';l3[n++]='<div class="ssp14" style="color:#121212;padding-top:0px;padding-left:15px;line-height:1.7em;">';if(writetql)l3[n++]=writeupsidesum();else l3[n++]=writedownsidesum();l3[n++]='</div></div>'}}
sumstr=findsumstr(brtype,bdtype,brgraph,bugraph,sumvalue,tquals,tquall,widebrpanel,ldir2,rchange);l3[n++]='<div style="height:7px;"><!-- --></div>';l3[n++]='<div class="ssp16" style="padding:0px 0px 1px 2px;"><img style="position:relative;top:2px;padding-right:4px;" width=16 height=16 '+ilnk+'notify19x15.png">';l3[n++]=findtradestr(brtype,bdtype,sumvalue,tquals,tquall,widebrpanel,sumtype,0);if(sumstr!=''){if((tabletmode==1)||(mobilemode==1))
l3[n++]='<br><span class="ssp14">'+sumstr+'</span>';else l3[n++]='<span class="ssp14" style="padding-left:20px;">'+sumstr+'</span>'}
l3[n++]='</div>';l3[n++]='</div></div>'}
var copystr='Copy';l3[n++]='<div style="padding-top:0px;padding-bottom:10px;"><div style="vertical-align:top;padding-top:0px;display:inline-block;">';l3[n++]='<div class="ssp17" style="padding:5px 0px 15px 10px;line-height:1.5em">Share page<br><span style="color:#0000ff;padding-right:8px;" class="sharelink">https://stockconsultant.com/?'+insymbol+'</span>';if((mobilemode==0)&&(tabletmode==0))
l3[n++]='<span id="sharepagebut" class="ssp18" style="position:relative;top:-1px;cursor:pointer;border-width:0px;background:#6E87A4;padding:4px 8px;border-radius:12px;color:#fff;TEXT-DECORATION:none;" onclick="copytotc2(\'sharelink\',\'sharepagebut\',150,70);">'+copystr+'</span>';l3[n++]='</div>';if((tabletmode==1)||(mobilemode==1))
l3[n++]='<div style="padding-left:15px;">';else l3[n++]='<div style="padding-left:50px;">';l3[n++]='<div style="display:inline-block;position:relative;background:#eeeff0;border-radius:12px;padding:5px;padding-top:20px;border:1px solid #cacbcc;width:300px;">';if(noresults==0)dosum1=1;if(isabot==0)l3[n++]=writesmallchart(1);l3[n++]='</div></div>';l3[n++]='<div style="height:10px;"><!-- --></div>';if(insymbol.indexOf("\*")<0){var stsym=insymbol;if(sct3[insymbol])stsym=sct3[insymbol];var scdatawidth=458;if(actwinwidth<458)scdatawidth=actwinwidth-5;stocktwitshtml='<iframe width='+scdatawidth+' height=330 marginHeight="0" marginWidth="0" frameBorder="no" scrolling="no" style="border-radius:3px;margin:0px;padding:0px;border:0px 0px 0px 0px;border-bottom:0.5px solid #cccccc;overflow:hidden;width:'+scdatawidth+'px;height:329px;" src="https://api.stocktwits.com/widgets/stream?symbol='+stsym+'&avatars=1&width='+(scdatawidth-1)+'&height=362&limit=15&header=0&stream_option=padding-left:+1px&message_option=padding:+5px+5px+5px+3px&footer_option=padding-right:+0;&border_color=bbb&border_color_2=ddd&box_color=fff&header_option=padding:0&divider_color=dddddd&username_color=000000&username_size=12&divider_type=solid&link_color=0000ee&font=Verdana,+helvetica&font_option=margin-top:+3px;&text_color=000000&time_color=660000&time_font_size=11"></iframe>'}
var ts='',tsc1=greencode,tsc2='6E87A4';if(showstwits=="1"){tsc1='6E87A4';tsc2=greencode}else if(((tabletmode==1)||(mobilemode==1))&&((showstwits=="2")||(showstwits=="0"))){tsc1='6E87A4';tsc2='6E87A4'}
if(indexes==0){l3[n++]='<div style="display:inline-block;padding:10px 0px 17px 10px;"><a id="linklist" class="ssp18" href="javascript:void(0);"style="text-decoration:none;padding:6px 12px;border-radius:12px;border-width:0px;background:#'+tsc1+';color:#ffffff;" onclick="togglelinkbuts(1);">Links</a>&nbsp;<a id="stlist" class="ssp18" style="padding:6px 12px;border-radius:12px;border-width:0px;background:#'+tsc2+';text-decoration:none;color:#ffffff;" href="javascript:void(0);" onclick="togglelinkbuts(2);">'+insymbol+' StockTwits</a>'}else{if((tabletmode==0)&&(mobilemode==0))tsc2=greencode;l3[n++]='<div style="display:inline-block;padding:10px 0px 17px 10px;"><span style="padding:6px 10px;border-radius:12px;border-width:0px;background:#'+tsc2+';"><a class="ssp17" style="text-decoration:none;color:#ffffff;" href="javascript:void(0);" onclick="togglelinkbuts(3);">'+insymbol+' StockTwits</a></span>'}
l3[n++]='</div>';if(sample==1){var ts='-14';if(msbrowser)ts='-6';if((iever==0)&&(isabot==0)){if(winwidth>=smallmobilewidth)
l3[n++]='<div class="ssp12" style="white-space:nowrap;display:inline-block;padding-left:8px;position:relative;top:0px;">Trade '+insymbol;else l3[n++]='<div style="display:inline-block;padding-left:15px;">';l3[n++]='&nbsp;<div id="iv88adtnb" style="overflow:hidden;display:inline-block;vertical-align:middle;width:90px;"></div></div>';iv88adtnb=1}}
var initdisp='block',scdatawidth=458;if((tabletmode==1)||(mobilemode==1))initdisp='none';if(actwinwidth<468)scdatawidth=actwinwidth-10;l3[n++]='<div id="scdata" style="display:'+initdisp+';width:'+scdatawidth+'px;min-height:300px;overflow-x:hidden;padding-left:5px;padding-top:0px;"></div>';var l3n=[];n2=0,mobilespacers='';if(actwinwidth<468)mobilespacers='<br>&nbsp; ';if(indexes==0){l3n[n2++]='<div class="ssp14" style="padding-top:4px;border-radius:12px;width:'+(scdatawidth-2)+'px;border:1px solid #cacbcc;color:#333;">'+fc1+'<a style="text-decoration:none" rel="nofollow" class="ssp16b" href="'+ow(-1,60,1,0,1)+'"onclick="ow(-1,60,1);return false;">Profile'+nbz+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,15,1,1,1)+'"onclick="ow(-1,15,1,1);return false;">Profile2'+nbz+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,66,1,1,1)+'"onclick="ow(-1,66,1,1);return false;">Stats/Float'+nbzs+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,24,1,1,1)+'"onclick="ow(-1,24,1,1);return false;">(2)'+nbz+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,111,1,1,1)+'"onclick="ow(-1,111,1,1);return false;">Income'+nbz+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,31,1,0,1)+'"onclick="ow(-1,31,1);return false;">Financials'+fc3;l3n[n2++]=fc1+'<a style="text-decoration:none" rel="nofollow" class="ssp16b" href="'+ow(-1,106,1,1,1)+'"onclick="ow(-1,106,1,1);return false;">EarningsDate'+nbzs+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,32,1,1,1)+'"onclick="ow(-1,32,1);return false;">(2)'+nbz+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,76,1,0,1)+'"onclick="ow(-1,76,1);return false;">ShortInterest'+nbzs+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,75,1,0,1)+'"onclick="ow(-1,75,1);return false;">(2)'+nbz+mobilespacers+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,27,1,0,1)+'"onclick="ow(-1,27,1);return false;">FlyAlerts'+nbzs+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,131,1,1,1)+'"onclick="ow(-1,131,1,1);return false;">HistQuotes'+fc3;l3n[n2++]=fc1+'<b>Quotes</b>&nbsp; <a style="text-decoration:none" rel="nofollow" class="ssp16b" href="'+ow(-1,87,0,0,1)+'"onclick="ow(-1,87,0);return false;">PreMarket'+nbzs+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,11,0,0,1)+'"onclick="ow(-1,11,0);return false;">PMChart'+nbzs+'<a style="text-decoration:none" rel="nofollow" class="ssp16b" href="'+ow(-1,88,0,0,1)+'"onclick="ow(-1,88,0);return false;">AfterHours'+nbzs+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,47,0,0,1)+'"onclick="ow(-1,47,0);return false;">AHChart'+fc3;l3n[n2++]=fc1bc+'<b>News</b>&nbsp; <a style="text-decoration:none" rel="nofollow" class="ssp16b" href="'+ow(-1,12,1,1,1)+'"onclick="ow(-1,12,1);return false;">Fidelity'+nbz+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,24,1,1,1)+'"onclick="ow(-1,24,1,1);return false;">WSJ'+nbz+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,56,1,1,1)+'"onclick="ow(-1,56,1,1);return false;">SAlpha'+nbz+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,13,1,1,1)+'"onclick="ow(-1,13,1,1);return false;">Zacks'+nbz+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,9,1,0,1)+'"onclick="ow(-1,9,1);return false;">MWatch'+fc3;l3n[n2++]=fc1b+'<b>Social</b>';l3n[n2++]='&nbsp; <a style="text-decoration:none" rel="nofollow" class="ssp16b" href="'+ow(-1,20,0,1,1)+'"onclick="ow(-1,20,0,1);return false;">StockTwits'+nbz+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,19,1,1,1)+'"onclick="ow(-1,19,1,1);return false;">YahooForums'+nbz+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,127,0,1,1)+'"onclick="ow(-1,127,0,1);return false;">Twitter'+fc3;l3n[n2++]=fc1b+'<b>RealTime</b>&nbsp; ';l3n[n2++]='<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,22,0,0,1)+'"onclick="ow(-1,22,0);return false;">Quote'+nbz+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,44,1,1,1)+'"onclick="ow(-1,44,1,1);return false;">Bats'+nbz+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,134,0,0,1)+'"onclick="ow(-1,134,0);return false;">Last Sale'+nbz+' &nbsp; '+mobilespacers+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,80,1,1,1)+'"onclick="ow(-1,80,1);return false;">Up/Downgrades'+nbzs+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,85,1,1,1)+'"onclick="ow(-1,85,1);return false;">(2)'+fc3;l3n[n2++]=fc1+'<b>Options</b>&nbsp;';l3n[n2++]='<a style="text-decoration:none" rel="nofollow" class="ssp16b" href="'+ow(-1,49,0,1,1)+'"onclick="ow(-1,49,0);return false;">YahByMonth'+nbz+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,43,0,1,1)+'"onclick="ow(-1,43,0,1);return false;">ByMonth_2'+nbz+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,98,1,1,1)+'"onclick="ow(-1,98,1);return false;">Put/Call'+nbzs+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,99,1,1,1)+'"onclick="ow(-1,99,1);return false;">(2)'+nbz+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,100,1,1,1)+'"onclick="ow(-1,100,1);return false;">HV'+fc3;l3n[n2++]=fc1+'<b>EPS</b>&nbsp; <a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,26,1,1,1)+'"onclick="ow(-1,26,0,1);return false;">Chart'+nbzs+'<a style="text-decoration:none" rel="nofollow" class="ssp16b" href="'+ow(-1,72,1,0,1)+'"onclick="ow(-1,72,1);return false;">Trend'+nbz+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,51,1,0,1)+'"onclick="ow(-1,51,1);return false;">Year'+nbzs+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,83,1,0,1)+'"onclick="ow(-1,83,1);return false;">Consensus'+nbzs+mobilespacers+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,79,1,0,1)+'"onclick="ow(-1,79,1);return false;">Estimates'+nbzs+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,17,1,1,1)+'"onclick="ow(-1,17,1,1);return false;">(2)</a>'+fc3;l3n[n2++]=fc1+'<a style="text-decoration:none" rel="nofollow" class="ssp16b" href="'+ow(-1,78,1,1,1)+'"onclick="ow(-1,78,1,1);return false;">Industry'+nbz+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,52,1,1,1)+'"onclick="ow(-1,52,1,1);return false;">Competitors'+nbzs+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,38,1,1,1)+'"onclick="ow(-1,38,1,1);return false;">(2)'+nbz+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,121,1,1,1)+'"onclick="ow(-1,121,1,1);return false;">IndustryStks'+nbz+mobilespacers+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,39,1,0,1)+'"onclick="ow(-1,39,1);return false;">SEC,10-K,10-Q</a>'+fc3;l3n[n2++]=fc1+'<b>Holdings</b>&nbsp; <a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,3,1,0,1)+'"onclick="ow(-1,3,1);return false;">Institutions'+nbzs+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,10,1,1,1)+'"onclick="ow(-1,10,1,1);return false;">Major';l3n[n2++]=nbzs+'<b>Insider</b>&nbsp;<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,14,1,1,1)+'"onclick="ow(-1,14,1,1);return false;">Roster'+nbzs+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,119,1,0,1)+'"onclick="ow(-1,119,0);return false;">Trades</a>'+nbzs+'<a style="text-decoration:none" rel="nofollow" class="ssp16" href="'+ow(-1,25,1,1,1)+'"onclick="ow(-1,25,1,1);return false;">(2)</a>'+fc3;l3n[n2++]='<div style="height:1px;"><!-- --></div></div>';scdatahtml=l3n.join("")}
doscdata=1;var rcchartwidth=560,minmobilewidth=360;if(mobilemode==1)rcchartwidth=actwinwidth-8;if(rcchartwidth<minmobilewidth)rcchartwidth=minmobilewidth-8;l3[n++]='</div><div id="bigchart" style="vertical-align:top;padding-left:5px;padding-top:5px;display:inline-block;width:'+rcchartwidth+'px;"><div style="padding-top:0px;border-radius:12px;border:1px solid #cacbcc;">';l3[n++]='<div class="ssp16" style="line-height:1.7em;padding:0px 5px 5px 0px;">';l3[n++]='<div style="display:inline-block;padding-bottom:5px;padding-top:2px;white-space:nowrap;padding-left:5px;">'+writechartoptions('2')+'</div> <div style="display:inline-block;padding-top:2px;white-space:nowrap;padding-left:20px;">Default chart <select class="ssp17" id="time2" onChange="consult(insymbol,0,2,0,0)"><OPTION '+defg2[0]+'>1 day</OPTION><OPTION '+defg2[1]+'>3 days</OPTION><OPTION '+defg2[2]+'>5 days</OPTION><OPTION '+defg2[3]+'>10 days</OPTION><OPTION '+defg2[4]+'>1 month</OPTION><OPTION '+defg2[5]+'>4 months</OPTION><OPTION '+defg2[6]+'>1 year</OPTION><OPTION '+defg2[7]+'>5 years</OPTION><OPTION '+defg2[8]+'>2 days</OPTION></select>';l3[n++]='</div></div>';var padright='4px;',overx='';if(actwinwidth<370){padright='6px;',overx='overflow-x:hidden;'}
l3[n++]='<div style="'+overx+'padding-left:2px;padding-right:2px;"><table width="100%" cellspacing="0" cellpadding="0"><tr><td colspan=4>';var ts,ts2=' class="ssp14b" style="float:left;padding:0px;padding-right:5px;white-space:nowrap;"><span style="font-size:12px;color:#666">';if(nochart==0){l3[n++]='<div style="background:#eeeff0;padding:0px;border:0.5px solid #bbb;border-radius:2px;">';l3[n++]='<div style="background:#e2e3e4;padding:2px 4px 2px 5px;">';var date1,time1,tempstr=curdatadate.split(","),volchange=0.0,pchange=mr((cprice-prevclose)*100.0)/100.0,psign="+",ftcolor="#0000ff",ppercent=trimnumfxd(mr((pchange/prevclose)*10000.0)/100.0);date1=tempstr[0].split(" ");date1=date1[1]+' '+date1[2];if(tempstr[1].indexOf('close')<0){var dstr='';if(realt==0)dstr=' delayed';time1=tempstr[1].split(" ");time1=time1[1]+time1[2]+' '+time1[3]+dstr}else{time1='close'}
if(pchange<0){psign="";ftcolor="#ff0000"}
var ohlstr='',fontstr='ssp12',doopen=1;if((openpriceday<100)&&(highpriceday<100)&&(lowpriceday<100))
fontstr='ssp14';else if((openpriceday>1000)||(highpriceday>1000)||(lowpriceday>1000))
doopen=0;if(lowpriceday>0)ohlstr+='<font color="#ee0000"><b>L</b> '+lowpriceday+'</font>';if((doopen)&&(openpriceday>0))ohlstr+='&nbsp;<b>O</b> '+openpriceday;if(highpriceday>0)ohlstr+='<font color="#0000ee">&nbsp;<b>H</b> '+highpriceday+'</font>';if(ohlstr!='')ohlstr='<span style="padding-left:5px;" class="ssp14">'+ohlstr+'</span>';l3[n++]='<div style="padding-top:3px;"><div '+ts2+'Quote</span> <span class="ssp16b">'+cprice+' <font color="'+ftcolor+'">'+psign+pchange+'</font>,<font color="'+ftcolor+'">'+psign+ppercent+'%</font></span></div><div style="float:right;padding-right:5px;white-space:nowrap;">'+ohlstr+'</div><div style="clear:both;"></div>';l3[n++]='</div><div style="padding-top:5px;"><div '+ts2+'Volume</span> ';psign="";ftcolor="#ff0000";if((indexes==1)&&(indxmult==0))l3[n++]='No Volume';else{l3[n++]=volscale(curvold);ftcolor="#ff0000";if(globtimerat<1.0){if((avgvold*globtimerat)>0.0)volchange=trimnum((curvold-(avgvold*globtimerat))/(avgvold*globtimerat)*100.0)}else{if(avgvold>0.0)volchange=trimnum((curvold-avgvold)/avgvold*100.0)}
if(volchange>=0.0){psign="+";ftcolor="#0000ff"}
l3[n++]=' <font color="'+ftcolor+'">'+psign+trimnumfxd(volchange)+'%'+'</font> <span class="ssp13">typical</span>'}
l3[n++]='</div>';var hstr=globscharthigh,lstr=globschartlow;if(hstr<1000.0)hstr=mr(hstr*10.0)/10;else hstr=mr(hstr);if(lstr<1000.0)lstr=mf(lstr*10.0)/10;else lstr=mf(lstr);l3[n++]='<div class=ssp14b style="float:right;padding:0px;padding-right:5px;white-space:nowrap;"><span style="font-size:12px;color:#666">52 Wk</span> '+lstr+' <span style="color:#666">to</span> '+hstr+'</div></div>';l3[n++]='<div style="clear:both;"></div>';l3[n++]='</div>';if((stats[0]!="")&&((stats[0].length)<100)&&((stats[0].split("~").length)==13)){var statdata=stats[0].split("~");l3[n++]='<div style="padding:4px;padding-left:5px;padding-top:2px;">';ts=statdata[12];if(ts=='-')ts='na';else{var daynum=0,whenstr='',pvstr='',earnstr=ts.split(' '),monthn=fmnum(earnstr[0]),curmonth=monthstr-1,curday=1*daystr;if(earnstr[1].indexOf('_')>0){var ts3=earnstr[1].split('_');ts=earnstr[0]+' '+ts3[0];if(ts3[1]=='a')whenstr=' aMkt';else if(ts3[1]=='b')whenstr=' pMkt';daynum=1*ts3[0]}else daynum=1*earnstr[1];if(monthn>=0){if(((monthn==0)||(monthn==1)||(monthn==2))&&((curmonth==9)||(curmonth==10)||(curmonth==11)))pvstr='';else if(((monthn==9)||(monthn==10)||(monthn==11))&&((curmonth==0)||(curmonth==1)||(curmonth==2)))pvstr='recent ';else if(monthn==curmonth){if(curday>daynum)pvstr='recent '}else if(monthn<curmonth)pvstr='recent '}
ts='<span style="color:#666">'+pvstr+'</span>'+ts+whenstr}
l3[n++]='<div style="padding-top:3px;"><div class=ssp14b style="float:left;padding:0px;"><span style="font-size:12px;color:#666">Earnings</span> '+ts+'&nbsp; <a rel="nofollow" class=ssp14 style="color:#0000EE;text-decoration:none;"onmouseover="isl=1;"onmouseout="isl=0;"href="javascript:void(0);"onclick="ow(-1,106,1);return false;">Link</a></div>';ts=statdata[3];if(ts=='-')ts='na';else ts=mr(ts*10.0)/10;l3[n++]='<div class=ssp14b style="float:right;padding:0px;padding-right:'+padright+'"><span style="font-size:12px;color:#666">PEG</span> '+ts+'</div>';ts=statdata[2];if(ts=='-')ts='na';else ts=mr(ts*10.0)/10;l3[n++]='<div class=ssp14b style="float:right;padding:0px;padding-right:10px;"><span style="font-size:12px;color:#666">P/E</span> '+ts+'</div>';l3[n++]='<div style="clear:both;"></div>';var ts2;ts=statdata[8];if(ts=='-')ts='na';ts2=statdata[4];if(ts2=='-')ts2='na';l3[n++]='</div><div style="padding-top:5px;"><div class=ssp14b style="float:left;padding:0px;padding-right:5px;white-space:nowrap;"><span style="font-size:12px;color:#666">Short</span> '+ts;l3[n++]='<span style="font-size:12px;color:#666;padding-left:10px;">Div</span> '+ts2+'</div>';ts=statdata[1];if(ts=='-')ts='na';ts2=statdata[5];if(ts2=='-')ts2='na';l3[n++]='<div class=ssp14b style="float:right;padding:0px;padding-right:'+padright+';white-space:nowrap;"><span style="font-size:12px;color:#666">EPS</span> '+ts2+'<span style="padding-left:10px;font-size:12px;color:#666">Mkt Cap</span> '+ts+'</div></div>';l3[n++]='<div style="clear:both;"></div>';l3[n++]='</div>'}
l3[n++]='</div>'}else l3[n++]='<img '+ilnk+'double-rules.gif" style="height:2px;width:100%;">';l3[n++]='</td></tr>';if(activelist[5]>0)gtime=activelist[5]-1;if(mobilemode==1)
l3[n++]=writebigchart(smchart2,compname,exchange,1,gtime,rcchartwidth-8);else l3[n++]=writebigchart(smchart2,compname,exchange,1,gtime);l3[n++]='</td></tr></table></div><div style="padding-top:5px;">';var signupreal=' ';if(sample==1)signupreal='<a class="ssp16" target="_top" style="color:#0000ff;text-decoration:none" nofollow href="https://www.stockconsultant.com/signup.html">Sign Up</a> for RealTime Intraday</a>';else if((forcenonrtc==0)&&(sample==0)&&(nochart==0)&&((globgtime==0)||(globgtime==1)||(globgtime==2)||(globgtime==3)||(globgtime==8)))
signupreal='Real-time';intradaysctext='<div style="float:left;padding-left:5px;" class="ssp14">'+signupreal+'</div><div style="float:right;padding-right:10px;" class="ssp14"><a target="_tab" style="color:#0000ee;text-decoration:none" nofollow href="https://www.zingchart.com"><span style="color:#000">Powered by</span> ZingChart</a></div><div style="clear:both;"></div>';intradaytctext='<div style="float:left;padding-left:5px;" class="ssp14">Click/swipe bar to zoom</div><div style="float:right;padding-right:5px;" class="ssp14"><a target="_tab" style="color:#0000ff;text-decoration:none" nofollow href="https://www.tc2000.com"><i>Charts by TC2000.com</i></a></div><div style="clear:both;"></div>';if(sample==1)
intradaytctexts='<div style="float:left;padding-left:5px;" class="ssp14">'+signupreal+'</div><div style="float:right;padding-right:5px;" class="ssp14"><a target="_tab" style="color:#0000ff;text-decoration:none" nofollow href="https://www.tc2000.com"><i>Charts by TC2000.com</i></a></div><div style="clear:both;"></div>';l3[n++]='<div id="intradaytextarea"><!-- --></div>';l3[n++]='<div style="height:175px;overflow:hidden;"><iframe style="position:relative;top:-18px;left:-5px;background-color:#fff;width:'+(rcchartwidth+8)+'px;height:185px;margin:0;border:0;" frameBorder=no scrolling=no src="https://cdb.stockconsultant.com/img/tvmarkets.html"></iframe></div>';l3[n++]='</div></div><div style="clear:both;"></div></div></div>';if((iever==0)&&(isabot==0))
if(sample==1){if(mobilemode==0)
l3[n++]='<div style="height:15px;"><!-- --></div>';if(mobilemode==1){}else if(tabletmode==0)
l3[n++]='<div id="iv728ad" style="overflow:hidden;padding-left:100px;width:800px;height:210px;"></div>';else l3[n++]='<div id="iv728ad" style="overflow:hidden;padding-left:8px;width:760px;height:210px;"></div>'}
if((sample==0)||((sample==1)&&(allowindexcharts==1))){var frannum=Math.round(Math.random(1)*100000),ts='4px',divstr='display:inline-block;',divspacersp,divspacer='<div style="display:inline-block;padding-left:5px;">';if((tabletmode==1)||(mobilemode==1)){divstr='';divspacer='<div style="padding-left:10px;padding-top:5px;">';divspacersp=divspacer;var tsc1=greencode,dispmode='block';if(showindexdata=="0"){tsc1='6E87A4';dispmode='none'}
l3[n++]='<div style="padding:7px 7px;padding-bottom:10px;"><a id="showindexlink" class="ssp18" href="javascript:void(0);"style="text-decoration:none;padding:6px 12px;border-radius:12px;border-width:0px;background:#'+tsc1+';color:#fff;" onclick="toggleindexbut();">Market Indexes</a></div>';l3[n++]='<div id="showindexdiv" style="display:'+dispmode+';">'}else divspacersp='<div style="display:inline-block;padding-left:5px;position:relative;top:19px;">';if(isabot==0){l3[n++]=divspacer+'<div style="'+divstr+'border:1px solid #cacbcc;background:#fff;border-radius:12px;padding:2px;width:330px;height:165px;"><img border=0 src="'+hrefs+'dowfinviz2.png" style="width:326px;height:161px;" alt="DJ-30 index"></div></div>';l3[n++]=divspacer+'<div style="'+divstr+'border:1px solid #cacbcc;background:#fff;border-radius:12px;padding:2px;width:330px;height:165px;"><img border=0 src="'+hrefs+'nasdaqfinviz2.png" style="width:326px;height:161px;" alt="Nasdaq index"></div></div>';l3[n++]=divspacersp+'<div style="'+divstr+'border:1px solid #cacbcc;background:#fff;border-radius:12px;padding:2px;width:330px;min-height:165px;"><img border=0 src="'+hrefs+'sp500finviz2.png" style="width:326px;height:161px;" alt="SP500index">';l3[n++]='<div class="ssp16" style="text-align:center;padding:1px;">Market Indexes <i>powered by <a href="https://www.kitco.com" target="_blank">Kitco.com</a></i></div></div></div>'}
if((tabletmode==1)||(mobilemode==1))l3[n++]='</div>';l3[n++]='<div style="height:25px;"><!-- --></div>'}
appenddiv(bodid2,l3.join(""),'',"border-bottom-right-radius:10px;border-bottom-left-radius:10px;border-right:.5px solid #ccc;border-left:.5px solid #ccc;border-bottom:.5px solid #ccc;","");bchartfw=parseInt(getid("bigchart").style.width)-6;bchartfh=parseInt((bchartfw+6)/1.7619);var tempstick=stickchart;if(tempstick==2)tempstick=1;if((forcenonrtc==0)&&(sample==0)&&(nochart==0)&&((globgtime==0)||(globgtime==1)||(globgtime==2)||(globgtime==3)||(globgtime==8)))
savedrtchart='<iframe style="background-color:#000;width:'+bchartfw+'px;height:'+bchartfh+'px;margin:0;border:0;" frameBorder=no scrolling=no src="https://www.stockconsultant.com/consultnow/'+rtimef+'.html?'+globchartsym+','+defscrtimedays[globgtime]+',0,'+tempstick+'"></iframe>';savedbchart='<iframe style="background-color:#000;width:'+bchartfw+'px;height:'+bchartfh+'px;margin:0;border:0;" frameBorder=no scrolling=no src="https://widgets.tc2000.com/ChartWidget.aspx?tf='+defgtimert[globgtime]+'&bars=40&zoomL='+defgtimezoom[globgtime]+'&h='+bchartfh+'+&widgetid='+charttypecode[tempstick]+'&service=TCTEMPLATEWIDGET&sym='+globchartsym+'&ID=4790593&w='+bchartfw+'&showZ=True&showTF=False&showSym=False"></iframe>'}}
function changebigchart(){var tempstick=stickchart;if(tempstick==2)tempstick=1;if(isonchartlink>=0){var gtime=isonchartlink,chartsym=insymbol,ts;if(sct2[chartsym]){var tempnum=sct2[chartsym].split(',');chartsym=tempnum[0]}
globgtime=gtime;globchartsym=chartsym;if(getid("chartname").innerHTML!=defgdesc[gtime]){getid("chartname").innerHTML=defgdesc[gtime];if((forcenonrtc==0)&&(sample==0)&&(nochart==0)&&((globgtime==0)||(globgtime==1)||(globgtime==2)||(globgtime==3)||(globgtime==8))){getid("bchart").innerHTML='<iframe style="background-color:#000;width:'+bchartfw+'px;height:'+bchartfh+'px;margin:0;border:0;" frameBorder=no scrolling=no src="https://www.stockconsultant.com/consultnow/'+rtimef+'.html?'+globchartsym+','+defscrtimedays[globgtime]+',0,'+tempstick+'"></iframe>';getid("intradaytextarea").innerHTML=intradaysctext}else{getid("bchart").innerHTML='<iframe style="background-color:#000;width:'+bchartfw+'px;height:'+bchartfh+'px;margin:0;border:0;" frameBorder=no scrolling=no src="https://widgets.tc2000.com/ChartWidget.aspx?tf='+defgtimert[gtime]+'&bars=40&zoomL='+defgtimezoom[gtime]+'&widgetid='+charttypecode[tempstick]+'&service=TCTEMPLATEWIDGET&sym='+chartsym+'&ID=4790593&w='+bchartfw+'&h='+bchartfh+'&showZ=True&showTF=False&showSym=False"></iframe>';if((forcenonrtc==0)&&(nochart==0)&&(sample==1)&&((globgtime==0)||(globgtime==1)||(globgtime==2)||(globgtime==3)||(globgtime==8)))
getid("intradaytextarea").innerHTML=intradaytctexts;else getid("intradaytextarea").innerHTML=intradaytctext}}}}
function writebigchart(smchart2,compname,exchange,local,gtime,cwidth){var l3=[],l3n=0,i,dumnum=mr(mrnd(1)*100000),chartloc,ts,lcandle=0;l3[l3n++]='<tr><td style="padding-top:6px;padding-right:5px;" valign="top" colspan=4><table width="100%"><tr><td align="left" nowrap>';var found=-1;for(i=0;i<6;i++)
if(multichart[i]>0){if((multichart[i]-1)==gtime){found=gtime;ts=greencode}else ts='6E87A4';l3[l3n++]='<span id="mcbut'+mcbuttons+'" onmouseover="clearmcbuttons();this.style.backgroundColor=\'#'+greencode+'\';isonchartlink='+(multichart[i]-1)+';changebigchart();" onclick="clearmcbuttons();this.style.backgroundColor=\'#'+greencode+'\';isonchartlink='+(multichart[i]-1)+';changebigchart();" onmouseout="isonchartlink=-1;" class="ssp17" style="color:#fff;cursor:pointer;border-radius:12px;border-width:0px;background:#'+ts+';padding:6px 13px 5px 13px;">'+defgdesc2[multichart[i]-1]+'</span><span style="padding:2px;"><!-- --></span>';mcbuttons++}
if(found<0){if(mobilemode==1)l3[l3n++]='<div style="height:9px;"><!-- --></div>';l3[l3n++]='<span id="mcbut'+mcbuttons+'" onmouseover="clearmcbuttons();this.style.backgroundColor=\'#'+greencode+'\';isonchartlink='+gtime+';changebigchart();" onclick="clearmcbuttons();this.style.backgroundColor=\'#'+greencode+'\';isonchartlink='+gtime+';changebigchart();" onmouseout="isonchartlink=-1;" class="ssp17" style="color:#fff;cursor:pointer;border-radius:12px;border-width:0px;background:#'+greencode+';padding:6px 13px 5px 13px;">'+defgdesc2[gtime]+'</span>';mcbuttons++}
if(mobilemode==1){if(found>=0)l3[l3n++]='<div style="height:3px;"><!-- --></div>';l3[l3n++]='<div class="ssp15" style="display:inline-block;padding-left:4px;padding-top:8px;"><span id="chartname">'+defgdesc[gtime]+'</span></div>'}
globgtime=gtime;globchartsym=smchart2;var padtop=0;if(mobilemode==0)
l3[l3n++]='<div style="display:inline-block;padding-top:'+padtop+'px;padding-left:5px;" class="ssp15"><span id="chartname">'+defgdesc[gtime]+'</span></div>';l3[l3n++]='</td><td nowrap valign="middle" align="right" style="vertical-align:middle;"><a style="text-decoration:none;" rel="nofollow" id="zoomrtw" href="javascript:void(0);" onclick="zoomrealtime();" onmouseover="isl=1;"onmouseout="isl=0;"><img align=top width="36" src="https://cdb.stockconsultant.com/img/gtk_zoom_in7opt.png"></a>';l3[l3n++]='</td></tr></table><div style="height:3px;"><!-- --></div></td></tr>';var defwidth='';if(cwidth)defwidth='width:'+cwidth+'px;';l3[l3n++]='<tr><td colspan=4><div dir="rtl" id="bchart" style="border-radius:5px;background:#000;padding-top:2px;padding-right:2px;border-width:0px;overflow:hidden;'+defwidth+'">';l3[l3n++]='</div></td></tr>';l3[l3n++]='<tr><td colspan=4 nowrap>';return(l3.join(""))}
function writesecheader(str1,str2,alignr,junkid){var adjusth='',nobordertext='border-top-left-radius:10px;border-top:1px solid #bbb;border-top-right-radius:5px;';if(alignr=='left')adjusth='style="position:relative;top:2px;"';if((str1=='Breakdown Trade')||(str1=='No Data')||((qchart==1)&&(str1=='Detailed Chart')))nobordertext+='border-bottom:none;border-bottom-right-radius:0px;border-bottom-left-radius:0px;';bodid2.insertAdjacentHTML('beforeend','<div style="background:#eaecee;height:4px;"><!-- --></div>');appenddiv(bodid2,'<div style="position:relative:left:-1px;display:inline-block;background:#eaecee;"><div style="display:inline-block;border-radius:5px;border-top-left-radius:10px;background:#576482;padding:5px 14px 4px 12px;color:#fff;" class="ssp19">'+str1+'</div></div><div style="display:inline-block;text-align:'+alignr+'"><span '+adjusth+'>'+str2+'</span></div><div style="height:5px;"><!-- --></div>',junkid,nobordertext,'');tempsecid=getid(junkid)}
function writesmallchart(dataret){if(nochart==0){var l3=[],l3n=0,temphigh=-999,templow=999,intermedstep,i,i2,i4,pricespan=ypricer[1]*4.0,tempnum,yprice=ddata[6].split(","),n=yprice.length,midnum=mf(n/4);l3[l3n++]='<div style="position:absolute;z-index:3;top:1px;left:228px;width:32px;"><a class="ssp14" style="color:#0000ff;text-decoration:none;" href="javascript:void(0);" onclick="hideObject();return false;"><img '+ilnk+'gtk_zoom_in7opt.png" id="smallcz" width="31"></a></div>';l3[l3n++]='<div id="smallchart1" style="padding-bottom:5px;position:relative;top:0px;left:0px;width:279px;height:166px;"><div'+dsv+'20px;left:0px;background:#bfbfbf;width:1px;height:137px;"><!-- --></div><div'+dsv+'20px;left:250px;background:#bfbfbf;width:1px;height:137px;"><!-- --></div><div'+dsv+'1px;left:0px;">&nbsp;<kbd>'+insymbol+' - 1 year &nbsp; &nbsp;</kbd></div>';globschartlow=ypricer[0]*1.0309278;for(i=0;i<7;i++){tempnum=mf(i*0.166667*136.0);l3[l3n++]='<div'+z1a+'0px;top:'+(156-tempnum)+'px;background:#bfbfbf;width:254px;height:1px;"><!-- --></div><div'+dsv+(148-tempnum)+'px;left:257px;"><kbd>'+trimnum(ypricer[0]+i*0.166667*pricespan)+'</kbd></div>'}
var abshigh=-999.0;i2=n-82;if(i2<0)i2=0;for(i=0;i<n;i++){yprice[i]=mf(yprice[i]);if(yprice[i]>=0){if(yprice[i]>abshigh)abshigh=yprice[i];if(i>i2){if(yprice[i]>temphigh)temphigh=yprice[i];if(yprice[i]<templow)templow=yprice[i]}
tempnum=mr(yprice[i]*1.36);l3[l3n++]='<div'+z2a+(i+1)+'px;top:'+(157-tempnum)+'px;background:#338833;width:1.2px;height:'+tempnum+'px;"><!-- --></div>';l3[l3n++]='<div'+z2a+(i+1)+'px;top:'+(156-tempnum)+'px;background:#00cc99;width:1.2px;height:1px;"><!-- --></div>'}else{l3[l3n++]='<div'+z0a+(i+1)+'px;top:20px;background:#bfbfbf;width:1px;height:147px;"><!-- --></div><div'+dsv+'155px;left:'+(i+4)+'px;"><tt>'+monthname[-yprice[i]-1].charAt(0)+'</tt></div>';if(i>0){tempnum=mr(yprice[i-1]*1.36);l3[l3n++]='<div'+z2a+(i+1)+'px;top:'+(157-tempnum)+'px;background:#338833;width:1.2px;height:'+tempnum+'px;"><!-- --></div>';l3[l3n++]='<div'+z2a+(i+1)+'px;top:'+(156-tempnum)+'px;background:#00cc99;width:1.2px;height:1px;"><!-- --></div>'}}}
l3[l3n++]='</div>';temphigh=1.00*(temphigh);templow=1.00*(templow);globscharthigh=(ypricer[0]+pricespan)*0.970874;temphigh+=2;templow-=2;var templowindx=templow;if((temphigh-templow)>0.0)intermedstep=136.0/(temphigh-templow);else intermedstep=136.0;temphigh=temphigh*pricespan/100.0+ypricer[0];templow=templow*pricespan/100.0+ypricer[0];pricespan=temphigh-templow;l3[l3n++]='<div id="smallchart2" style="padding-bottom:5px;display:none;position:relative;top:0px;left:0px;width:279px;height:166px;"><div'+dsv+'20px;left:0px;background:#bfbfbf;width:1px;height:137px;"><!-- --></div><div'+dsv+'20px;left:250px;background:#bfbfbf;width:1px;height:137px;"><!-- --></div><div'+dsv+'1px;left:0px;">&nbsp;<kbd>'+insymbol+' - 4 month  &nbsp; &nbsp;</kbd></div>';for(i=0;i<7;i++){tempnum=mf(i*0.166667*136.0);l3[l3n++]='<div'+z1a+'0px;top:'+(156-tempnum)+'px;background:#bfbfbf;width:254px;height:1px;"><!-- --></div><div'+dsv+(148-tempnum)+'px;left:257px;"><kbd>'+trimnum(templow+i*0.166667*pricespan)+'</kbd></div>'}
i2=n-82+1;if(i2<0)i2=0;midnum=mf((n-i2)/2);for(i=i2;i<n;i++){if(yprice[i]>=0){tempnum=mr((1.00*(yprice[i])-templowindx)*intermedstep);l3[l3n++]='<div'+z2a+((i-i2)*3+1)+'px;top:'+(157-tempnum)+'px;background:#008040;width:3.2px;height:'+tempnum+'px;"><!-- --></div>';l3[l3n++]='<div'+z2a+((i-i2)*3+1)+'px;top:'+(156-tempnum)+'px;background:#00cc99;width:3.2px;height:1px;"><!-- --></div>'}else{l3[l3n++]='<div'+z0a+((i-i2)*3+1)+'px;top:20px;background:#bfbfbf;width:3px;height:147px;"><!-- --></div><div'+dsv+'155px;left:'+((i-i2)*3+6)+'px;"><tt>'+monthname[-yprice[i]-1].charAt(0)+'</tt></div>';if(i>i2){tempnum=mr((1.00*(yprice[i-1])-templowindx)*intermedstep);l3[l3n++]='<div'+z2a+((i-i2)*3+1)+'px;top:'+(157-tempnum)+'px;background:#008040;width:3.2px;height:'+tempnum+'px;"><!-- --></div>';l3[l3n++]='<div'+z2a+((i-i2)*3+1)+'px;top:'+(156-tempnum)+'px;background:#00cc99;width:3.2px;height:1px;"><!-- --></div>'}}}
l3[l3n++]='</div>';if(dataret)return(l3.join(""));else document.write(l3.join(""))}else{if(dataret)return('<div style="z-index:1;position:relative;top:0px;left:10px;width:265px;height:120px;"><br><center><div class="ssp20" style="border:0.5px solid #cccccc;padding:20px;">No 1 Year Chart Available</div></center></div><div style="height:10px;"><!-- --></div>');else document.write('<div style="z-index:1;position:relative;top:0px;left:10px;width:265px;height:120px;"><br><center><div class="ssp20" style="border:0.5px solid #cccccc;padding:20px;">No 1 Year Chart Available</div></center></div><div style="height:10px;"><!-- --></div>')}}
function writecur_ressup(){var os='<span class="ssp16b">'+cprice+'</span>, '+resexp,tn=-1;if(justinres>=0)tn=justinres;else if(justoutres>=0)tn=justoutres;if(tn>=0)
os+=', <span class="ssp16b">'+trimnum(resprice[tn])+'</span> &#177 '+trimnum(resprice[tn]*reswidth)+' '+dvblk+'type '+writerestype2(restype[tn])+',</div> '+dvblk+'strength <span class="ssp16b">'+resstrength[tn]+'</span></div>';inhtml(os)}
function wrind(name1,color,below,addtext){var ctxt,textadd='';if(addtext)textadd='<span style="color:#000;padding-left:10px;" class="ssp14">'+addtext+'</span>';if(color==1)ctxt="#2F6F4F";else if(color==2)ctxt="#0000ff";else ctxt="#ee2222";if(below)
inhtml('<div style="padding:10px 0px 0px 8px;color:'+ctxt+';" class="ssp17b">'+name1+textadd+'</div><div style="padding:5px 0px 0px 18px;line-height:1.5em;">');else inhtml('<table cellspacing=0 cellpadding=0 style="padding-top:15px;"><tr><td></td><td style="padding-left:8px;" nowrap valign=top><span class="ssp17b" style="line-height:1.6em;color:'+ctxt+';">'+name1+'</span></td><td></td><td style="padding-left:18px;line-height:1.5em;"> ')}
function writechartalerts(){var i,i2,z,l3=[],l3n=0,tempnum,avgz,num2,x=0,y=0,cwidth=395,xpos=300,ypos=48;if(winwidth<smallmobilewidth){cwidth='340';xpos=235;ypos=107}
l3[l3n++]='<div style="padding-top:12px;padding-bottom:0px;"><div style="border:1px solid #cacbcc;border-radius:12px;background:#eeeff0;z-index:6;position:relative;top:'+y+'px;left:'+x+'px;width:'+cwidth+'px;height:140px;">';l3[l3n++]='<div style="position:relative;top:8px;left:3px;"><div'+dsv+'115px;left:90px;" class="ssp14">Days Back</div>';l3[l3n++]='<div'+dsv+'15px;left:10px;background:#bfbfbf;width:1px;height:82px;"><!-- --></div><div'+dsv+'15px;left:10px;background:#bfbfbf;width:212px;height:1px;"><!-- --></div><div'+dsv+'15px;left:218px;background:#bfbfbf;width:1px;height:82px;"><!-- --></div><div'+dsv+'97px;left:10px;background:#bfbfbf;width:212px;height:1px;"><!-- --></div>';l3[l3n++]='<div'+dsv+'36px;left:10px;background:#bfbfbf;width:212px;height:1px;"><!-- --></div><div'+dsv+'56px;left:10px;background:#bfbfbf;width:212px;height:1px;"><!-- --></div><div'+dsv+'76px;left:10px;background:#bfbfbf;width:212px;height:1px;"><!-- --></div><div'+dsv+'15px;left:174px;background:#bfbfbf;width:1px;height:82px;"><!-- --></div><div'+dsv+'15px;left:134px;background:#bfbfbf;width:1px;height:82px;"><!-- --></div><div'+dsv+'15px;left:94px;background:#bfbfbf;width:1px;height:82px;"><!-- --></div>';l3[l3n++]='<div'+dsv+'8px;left:226px;" class="ssp13">Strong Bullish</div><div'+dsv+'29px;left:226px;" class="ssp13">Mild Bullish</div><div'+dsv+'49px;left:226px;" class="ssp13">Neutral</div><div'+dsv+'69px;left:226px;" class="ssp13">Mild Bearish</div><div'+dsv+'89px;left:226px;" class="ssp13">Strong Bearish</div>';l3[l3n++]='<div'+dsv+'97px;left:216px;" class="ssp13">0</div><div'+dsv+'97px;left:170px;" class="ssp13">5</div><div'+dsv+'97px;left:126px;" class="ssp13">10</div><div'+dsv+'97px;left:88px;" class="ssp13">15</div><div'+dsv+'97px;left:6px;" class="ssp13">25</div>';if(day3c.length==61){i2=day3c.length-1;l3[l3n++]='<div'+dsv+ypos+'px;left:'+xpos+'px;"><a class="ssp15" style="border:0px;background:#6E87A4;padding:4px 8px;border-radius:12px;color:#fff;TEXT-DECORATION:none;" onmouseover="javascript:hidechartalerts2()"onmouseout="javascript:showchartalerts2()"onClick="lockoutchartalerts()" href="javascript:void(0);"onclick="lockoutchartalerts();return false;" title="Click to Lock/unlock 2 day Avg">2 Day Avg</a></div>';for(z=0;z<2;z++){if(z==0)
l3[l3n++]='<div id="cab1"style="display:block"><div'+dsv+'-7px;left:20px;" class="ssp14">3 Day Candlestick (over last 25 days)</div>';else l3[l3n++]='<div id="cab2"style="display:none"><div'+dsv+'-6px;left:30px;" class="ssp14">3 Day Candlestick (2 day avg)</div>';for(i=i2;i>34;i--){if(z==0)
tempnum=mf(20.0*day3c[i]);else tempnum=mf(20.0*(1.0*day3c[i]+1.0*day3c[i-1])*0.5);if((tempnum>0.01)&&(tempnum<41.0))
l3[l3n++]='<div'+dsv+(56-tempnum)+'px;left:'+(211-(60-i)*8)+'px;background:#5555ff;width:6px;height:'+tempnum+'px;"><!-- --></div>';else if((tempnum<-0.01)&&(tempnum>-41.0))
l3[l3n++]='<div'+dsv+'57px;left:'+(211-(60-i)*8)+'px;background:#ee3333;width:6px;height:'+(-tempnum)+'px;"><!-- --></div>';else l3[l3n++]='<div'+dsv+'52px;left:'+(211-(60-i)*8)+'px;background:#bfbfbf;width:6px;height:9px;"><!-- --></div>'}
l3[l3n++]='</div>'}}
l3[l3n++]='</div></div></div>';inhtml(l3.join(""))}
function writebullishchart(summary,testtype){var n=0,l3=[],ts;if(summary==1){ts=chartdescrip[tempchart]+' 3 day candlestick pattern';if(testtype==1){if(chartdescrip[tempchart].indexOf("bullish")!=-1){l3[n++]=bcstr;l3[n++]=ts;if((flowdir3d==1)&&(moneyflow3d>=4)&&(!((boughtidx>=7)&&(moneyflow3d>=9))))
l3[n++]='<i> with '+mfsdescip[moneyflow3d]+accum+'</i>';l3[n++]='.'+indmid2}}else{if(chartdescrip[tempchart].indexOf("bearish")!=-1){l3[n++]=brcstr;l3[n++]=ts;if((flowdir3d==2)&&(moneyflow3d>=4)&&(!((boughtidx<=(-7))&&(moneyflow3d>=9))))
l3[n++]='<i> with '+mfsdescip[moneyflow3d]+distr+'</i>';l3[n++]='.'+indmid2}}
inhtml(l3.join(""))}else{inhtml('<div style="display:inline-block;vertical-align:top;">');wrind('3 DAY CANDLESTICK',1,1);l3[n++]=writebarg(chartvdescrip[advbulldays],1,0)+chartdescrip[tempchart]+' 3 day candlestick pattern.';if(indexes==0){l3[n++]=indmid2;var tmpmonflow3d=moneyflow3d;if(flowdir3d==2)
tmpmonflow3d=-tmpmonflow3d;l3[n++]='<div style="padding-top:8px;">'+writebarg(tmpmonflow3d,flowdir3d,0);if(flowdir3d==0){l3[n++]=mfsdescip[moneyflow3d]+' neutral 3 day accumulation/distribution';if(moneyflow3d>=4)
l3[n++]=', '+stalemate;if(moneyflow3d>=9)
l3[n++]=', could mark a possible price reversal'}else if(flowdir3d==1)
l3[n++]=mfsdescip[moneyflow3d]+accum;else if(flowdir3d==2)
l3[n++]=mfsdescip[moneyflow3d]+distr;if(moneyflow3d>=5)
l3[n++]=', occurs '+mfpercent3d+'% of the time.';l3[n++]='</div>'}
l3[n++]='</div></div>';inhtml(l3.join(""));if((tabletmode==0)&&(mobilemode==0))
inhtml('<div style="display:inline-block;padding-left:50px;padding-top:0px;">');else if(tabletmode==1)
inhtml('<div style="padding:10px 0px 10px 15px;">');else inhtml('<div style="padding:10px 0px 10px 8px;">');writechartalerts();inhtml('</div>')}}
function writeressum(bullishtest){if(bullishtest==1){if(resexp==asup)inhtml(bpstr+asup+indmid2)}else if(resexp==ares)inhtml(brpstr+ares+indmid2)}
function writepricesum(bullishtest){var pch='1 Day Price change ',l3=[],n=0;if(bullishtest==1){if(rchange<=(-9))l3[n++]=bpstr+pch+'extreme down, may pause/reverse'+indmid2;else if(rchange<=(-8))l3[n++]=bpstr+pch+'strong down, may pause'+indmid2}else{if(rchange>=9)l3[n++]=brpstr+pch+'extreme up, may pause/reverse'+indmid2;else if(rchange>=8)l3[n++]=brpstr+pch+'strong up, may pause'+indmid2}
inhtml(l3.join(""))}
function writeressup(){wrind('SUPPORT/RESISTANCE',1,1,'');writecur_ressup();inhtml(indmid2+'Support Below : '+supbelow[0]+indmid2+'Resistance Above : '+resabove[0]+indmid2)}
function write3daymf(testtype){if(testtype==1){if((flowdir3d==2)&&(boughtidx<=(-7))&&(moneyflow3d>=9))inhtml(bcstr+mfsdescip[moneyflow3d]+distr+', but when the stock is oversold this can be considered bullish.'+indmid2)}else{if((flowdir3d==1)&&(boughtidx>=7)&&(moneyflow3d>=9))inhtml(brcstr+mfsdescip[moneyflow3d]+accum+', but when the stock is overbought this can be considered bearish.'+indmid2)}}
function write1monthtrend(summary,testtype){if(monthtrend<0)
outstr2=-monthtrend+11;else outstr2=monthtrend;if(summary==1){var ts=monthtrendsdescrip[outstr2]+' trend <i>(1 month)</i>'+monthtrenddescrip[outstr2]+indmid2;if(testtype==1){if(monthtrend<=(-7))inhtml(bpstr+ts)}else if(monthtrend>=7)inhtml(brpstr+ts)}else{wrind('1 MONTH TREND',1,1);inhtml(writebarg(monthtrend,1,0)+monthtrendsdescrip[outstr2]+' trend'+monthtrenddescrip[outstr2])}}
function writepricepos(){wrind('1 DAY PRICE CHANGE',1,1);if(rchange>0)
outstr2=rchange;else outstr2=-rchange+11;inhtml(writebarg(rchange,1,0)+pricesdescrip[outstr2]+savedchangestr+' from yesterday\'s close'+pricesdescripmore[outstr2])}
function writerallypull2(testtype,sum){var ts,n=0,l3=[];if(ldir2<0)outstr2=-ldir2+11;else outstr2=ldir2;if(sum==1){ts='Short term '+rallypullsdescip[outstr2]+rallypulldescip[outstr2]+indmid2;if((ldir2<=(-7))&&(testtype==1))l3[n++]=bpstr+ts;else if((ldir2>=7)&&(testtype==2))l3[n++]=brpstr+ts}else{wrind('SHORT TERM DIRECTION',1,1);l3[n++]=writebarg(ldir2,1,0)+rallypullsdescip[outstr2]+rallypulldescip[outstr2]}
inhtml(l3.join(""))}
function write1daymf(summary,testtype){var ts,n=0,l3=[];if(summary==1){if(testtype==1){ts=bcstr+mfsdescip[moneyflow]+flowdescr[flowdir]+monin;if((flowdir==1)&&(moneyflow>=4)&&(!((ldir2>=7)&&(moneyflow>=9))))
l3[n++]=ts+indmid2;else if(((flowdir==2)||(flowdir==0))&&(ldir2<=(-7))&&(moneyflow>=9))
l3[n++]=ts+', on an strong-extreme pullback is considered bullish.'+indmid2}else{ts=brcstr+mfsdescip[moneyflow]+flowdescr[flowdir]+monin;if((flowdir==2)&&(moneyflow>=4)&&(!((ldir2<=(-7))&&(moneyflow>=9))))
l3[n++]=ts+indmid2;else if(((flowdir==1)||(flowdir==0))&&(ldir2>=7)&&(moneyflow>=9))
l3[n++]=ts+', on an strong-extreme rally is considered bearish.'+indmid2}}else{wrind('MONEYFLOW',1,1);var tmpmonflow=moneyflow;if(flowdir==2)
tmpmonflow=-tmpmonflow;l3[n++]=writebarg(tmpmonflow,flowdir,0)+mfsdescip[moneyflow]+flowdescr[flowdir]+monin;if(globtimerat<1.0){tempstr=curdatadate.split(",");l3[n++]=' by '+tempstr[1]}
l3[n++]=',';ts='occurs '+mfpercent+'% of the time.';if((flowdir==0)&&(moneyflow>=4)){l3[n++]='<br>'+stalemate;if(moneyflow>=5)
l3[n++]=', '+ts}else if(moneyflow>=5)
l3[n++]='<br>'+ts}
inhtml(l3.join(""))}
function displayreshelp(){getid('reshelp').innerHTML='<table cellpadding=2 cellspacing=0><tr><td class="ssp14" nowrap valign=top>Type:</td><td class="ssp14">Number of times a stock has touched a support/resistance area,<br>the more times the stronger the area.</td></tr></table><table cellpadding=2 cellspacing=0><tr><td class="ssp14" nowrap valign=top>Strength:</td><td class="ssp14">Amount of volume occuring at support/resistance areas,<br>the higher the more significant the area.</td></tr></table>'}
function writeresistancemap(){var ts='';var ts3='',ts2;if(hideressupsec=="1")ts3='checked';ts2='<span style="padding-left:6px;" class="ssp16"><label><input style="cursor:pointer;"type="checkbox" '+ts3+' onclick="changeressupsec(0)" value="" id="selressupsection"><a style="text-decoration:none;position:relative;top:-1px;color:#0000ff;" href="javascript:void(0);" onclick="changeressupsec(1)">Hide</a></label></span>';writesecheader('Support and Resistance Areas',ts2,'left','secid3');inhtmlclr();inhtml('<div style="padding-left:10px;">Over the past 8 months.</div>');if(mobilemode==1)
inhtml('<div style="padding-right:10px;">');if(hideressupsec=="0"){inhtml('<div style="padding-top:3px;padding-left:10px;"></div>');inhtml('<div class="ssp15" id="reshelp" style="padding-top:3px;padding-left:10px;">');inhtml('<span style="color:#0000ff;cursor:pointer" onclick="displayreshelp();">Type/Strength Help</span></div>');wrind('CURRENT PRICE',1,1);writecur_ressup();inhtml(endind2);var l3=[],l3n=0,toshow=0;wrind('SUPPORT BELOW',2,1);if(supnums>3)toshow=3;else toshow=supnums;for(i=0;i<toshow;i++)
l3[l3n++]='<font color="#000">'+supbelow[i]+'</font>'+indmid2;if(toshow==3)l3[l3n++]='<font class="ssp18b" color="#000">...</font>'+indmid2;if(supnums==0)
l3[l3n++]='<font color="#000">None.</font>'+indmid2;l3[l3n++]=endind2;inhtml(l3.join(""));l3=[];l3n=0;wrind('RESISTANCE ABOVE',3,1);toshow=0;if(resnums>3)toshow=3;else toshow=resnums;for(i=0;i<toshow;i++)
l3[l3n++]='<font color="#000">'+resabove[i]+'</font>'+indmid2;if(toshow==3)l3[l3n++]='<font class="ssp18b" color="#000">...</font>'+indmid2;if(resnums==0)
l3[l3n++]='<font color="#000">None.</font>'+indmid2;l3[l3n++]=endind2+smallsp;inhtml(l3.join(""))}
if(mobilemode==1)
inhtml('</div>');inhtml('</div>');inhtmlout()}
function writeintertrend(sum,testtype){var writetrend="",ts;if(trendnum>=0){if(trenddescrip[intertrend].indexOf("<br>")!=-1){writetrend=trenddescrip[intertrend].split("<br>");writetrend=writetrend[0]+" "+writetrend[1]}else writetrend=trenddescrip[intertrend]}
if(sum==1){if(trendnum>=0){ts='Intermediate trend '+trenddescripsum[trendnum]+', '+writetrend+indmid2;if(testtype==1){if(trenddescripsum[trendnum].indexOf("bullish")!=-1)
inhtml(bpstr+ts)}else{if(trenddescripsum[trendnum].indexOf("bearish")!=-1)
inhtml(brpstr+ts)}}}else{wrind('INTERMEDIATE TREND',1,1,'** Past 4 months');if(trendnum>=0)
inhtml(writebarg(trendstatnum[intertrend],1,0)+trenddescripsum[trendnum]+', '+writetrend);else inhtml('Trend not recognized.')}}
function writelargechart(pass){if(nochart==0){curjuldate=jul_date(linedatag[0]);var firstpt=1,lineavg1=[],lineavg1n=0,lineavg2=[],lineavg2n=0,chartptn={x:0},chartpt=[],rmaptn={x:0},rmaptu={x:0},rmaptl={x:0},rmapt1=[],rmapt2=[],rmapt3=[],rmapt4=[],rmapt5=[],linept=[],linen=0,c,ctx,chartoverlap=0,chartheader,ml=Math.log,mr=Math.round,mf=Math.floor,endwidth,l3=[],l3n=0,tshad,bshad,lshad,open,ts,origstartprice,avgz,top,i2,i3,tn,tn2,tn3,tp1,tp2,i2pass1=15,oldestday=-1,lowest=9999999.0,highest=-9999999.0,shadwidth=[1,1,2,2,2],shadcolor=['000','111','111','222','222'],lochigh=cprice+0.5*typmove,loclow=cprice-0.5*typmove,ilnk='src="https://cdb.stockconsultant.com/img/',tpricer1orig=tpricer[1];startprice=tpricer[0];origstartprice=startprice;endprice=startprice+tpricer[1]*10.0;var ts,ts2,ts3='',endporg=endprice,pixorg=tpricer[1]*10.0/280.0,top1,top2,top3,top4,dsv2=' style="position:absolute;left:',pdataright0=0;l3[l3n++]='<div style="height:15px;"><!-- --></div>';ts='px;background:#b7b7b7;width:1px;height:';tn='<!-- --></div><div';l3[l3n++]='<div id="lchart3"><!-- --></div>';if((qchart=='1')&&(nextprevstrlrg!=''))
l3[l3n++]='<div style="padding:20px;padding-top:10px;display:inline-block;white-space:nowrap;float:right;">'+nextprevstrlrg+'</div><div class="clearit"></div>';var ohidden='',cwidth=875,leftpad=0,cborder='',overlaypad=0,mchartw=875,chgt=684;if(mobilemode==1){chgt=830;dosuma=1;l3[l3n++]='<div style="height:10px;"><!-- --></div>';mchartw=816;cwidth=winwidth-1;leftpad=0;overlaypad=255;ohidden='overflow:auto;-webkit-overflow-scrolling:touch;-webkit-overflow-scrolling:auto;';cborder=''}else if(tabletmode==1){l3[l3n++]=writestatshorz('a');dosuma=1;mchartw=875;l3[l3n++]='<div style="height:7px;"><!-- --></div>';cwidth=winwidth-5;leftpad=0;ohidden='overflow:auto;-webkit-overflow-scrolling:touch;-webkit-overflow-scrolling:auto;';cborder=''}
l3[l3n++]='<div dir="rtl" style="height:'+chgt+'px;display:inline-block;will-change:transform;'+cborder+'width:'+cwidth+'px;'+ohidden+'">';if(mobilemode==1){l3[l3n++]=writestatshorz('a');l3[l3n++]='<div style="height:8px;"><!-- --></div>'}
l3[l3n++]='<div dir="ltr" id="mchart0" style="width:'+mchartw+'px;white-space:nowrap;top:16px;position:relative;"><div'+z4a+'10px;top:30'+ts+'591px;">'+tn;l3[l3n++]=' id="bchart0" style="padding-top:2px;padding-right:2px;background:#000;border-radius:5px;border-width:0px;display:none;z-index:7;position:absolute;top:-30px;left:'+overlaypad+'px;width:554px;height:333px;">';l3[l3n++]='</div>';l3[l3n++]='<div'+z4a+'620px;top:30'+ts+'280px;">'+tn+z3a+'620px;top:310'+ts+'31px;">'+tn;l3[l3n++]=z4a+'620px;top:341'+ts+'280px;">'+tn+z1a+'613px;top:13px;background:#eaebec;width:6px;height:609px;"><!-- --></div>';if((sample==1)&&(notradedet==1)){}else{var descstr='Mouse over',descalign='left',xpos=700,topover=367,brstr=' ';if((mobilemode==1)||(tabletmode==1)){descstr='Tap';descalign='left';xpos=700;topover=367;brstr=' '}
l3[l3n++]='<div'+z1a+xpos+'px;top:'+topover+'px;color:#b9babb;line-height:0.9em;text-align:'+descalign+';" class="ssp14b">'+descstr+brstr+'for values</div>';l3[l3n++]='<a '+z1a+'728px;top:440px;padding:5px 10px;border-radius:12px;background:#6E87A4;border-width:0px;text-decoration:none;color:#fff;cursor:pointer;" class="ssp20" onclick="doscroll(\'topheader\');" href="javascript:void(0);">Top<span class="ssp20" style="position:relative;top:1px;"> &#x2c4;</span></a>'}
var regsymstr='';if(mobilemode==0)
regsymstr='<div dir="ltr" class="ssp17b" style="display:inline-block;position:relative;top:-3px;padding-right:15px;">'+insymbol+'</div>';l3[l3n++]='<div class="ssp13" '+z5a+'12px;top:11px;white-space:nowrap;display:inline-block;text-align:right;width:607px;overflow:hidden;border-top-right-radius:6px;" dir="rtl"><div dir="ltr" style="display:inline-block;position:relative;top:-1px;vertical-align:top;border-radius:5px;padding:2px 5px 1px 5px;background:#eaebec;">'+dodatestuff(linedatag[0],linedatag[1],0,1)+'</div>'+regsymstr+'<div style="display:inline-block;position:relative;top:-2px;padding-right:155px;text-align:left;" dir="ltr">8 Month Detailed Chart</div>';l3[l3n++]='</div>';l3[l3n++]='<span style="cursor:pointer;" onClick="zoomchart(1,0);"><img '+z4a+'625px;top:-19px;padding:7px 4px 8px 5px;" '+ilnk+'gtk_zoom_in7opt.png" width="36"></span>';l3[l3n++]='<span style="cursor:pointer;" onClick="zoomchart(-1,0);"><img '+z4a+'670px;top:-19px;padding:7px 4px 8px 5px;" '+ilnk+'gtk_zoom_out7opt.png" width="36"></span>';if(mobilemode==1)
l3[l3n++]='<div dir="ltr" class="ssp17b" '+z4a+'480px;display:inline-block;position:relative;top:-13px;">'+insymbol+'</div>';l3[l3n++]='<div id="zlevel" class="ssp17" '+z4a+'563px;top:-16px;background-color:#eff1f2;background-image:linear-gradient(#e1e2e3,#f7f8f9);padding:1px 5px;border:0.5px solid #999;border-radius:11px;color:#1111cc">'+zoomlevels[currentzoom]+'</div>';if(placetick==1){l3[l3n++]='<div class="ssp21" '+z4a+'490px;top:-21px;">&#8988;</div>';l3[l3n++]='<div class="ssp21" '+z4a+'990px;top:200px;">&#8991;</div>'}
if(placetick==2){l3[l3n++]='<div class="ssp21" '+z4a+'425px;top:-21px;">&#8988;</div>';l3[l3n++]='<div class="ssp21" '+z4a+'990px;top:291px;">&#8991;</div>'}
chartheader=l3.join("");var rmaperc=rbar1const*0.67,rmaperc2=rbar2const*0.84,rma=[],rmacnt,rmaon,pixz,lnz,i,j,oldestz9,x1,x2,x3,x4,x4,x5,x6,x7,widthstr='',mnum,voltxtadd,volextfound,volchar=['a','b','c','d'],startingdays=[0,240,400,512,600],startx=[15,16,17,18,19],widthx=[4,5,6,7,8],volextstr,volcor,z9,dayma1cnt,dayma1div,dayma2cnt,dayma2div,tprice=ddata[5].split(","),zzz=tprice.length,tempv,templow,temphigh,localmax,localmin;if(startprice<1)startprice*=0.97;else if(startprice<10)startprice*=0.98;else startprice*=0.988;if(loclow<=0.0)loclow=startprice;{l3=[];l3n=0;oldestz9=-1;voltxtadd=0;volextfound=0;volextstr='';dayma1cnt=1;dayma2cnt=1;chartoverlap=0;oldestday=-1;templow=9999999.0;temphigh=-9999999.0;for(i=startingdays[pass];i<zzz;i=i+8){if(tprice[i+5]>0){tempv=endporg+(-tprice[i+1]-tprice[i+4]-tprice[i+3]-tprice[i+2])*pixorg;if(tempv<templow)templow=tempv;tempv=endporg-tprice[i+1]*pixorg;if(tempv>temphigh)temphigh=tempv}}
if(target2_long>temphigh)temphigh=target2_long;if((breakoutdwndata(1)>0.0)&&((upsidebreak+upbrkamount)>temphigh))temphigh=upsidebreak+upbrkamount;if(lochigh>temphigh)temphigh=lochigh;if(target2_short<templow)templow=target2_short;if((breakoutdwndata(2)>0.0)&&((dwnsidebreak-dwnbrkamount)<templow))templow=dwnsidebreak-dwnbrkamount;if(loclow<templow)templow=loclow;if(templow<origstartprice)templow=origstartprice;startprice=templow;endprice=temphigh;if(startprice<1)startprice=templow*0.97;else if(startprice<10)startprice=templow*0.98;else startprice=templow*0.988;if(endprice<1)endprice=temphigh*1.03;else if(endprice<10)endprice=temphigh*1.02;else endprice=temphigh*1.012;if(startprice<0)startprice=0.0;if(startprice<0)startprice=0.0;initsetchartvars();l3[l3n++]=writepricedivs();if((indexes==1)&&(indxmult==0))var iend=1;else var iend=6;tn='px;height:1px;background:#';for(i=0;i<iend;i++){if((i!=0)&&(i!=(iend-1)))ts="bfbfbf";else ts="b7b7b7";l3[l3n++]='<div'+z3a+'10'+tn+ts+';width:618px;top:'+(441-i*20)+'px;"><!-- --></div><div'+z4a+'630px;top:'+(433-20*i)+'px;color:#121212" class="ssp13">'+volscale(tvol*i)+'</div>'}
for(i=0;i<5;i++){if(i<4){if((i!=0)&&(i!=3))ts="bfbfbf";else ts="b7b7b7";l3[l3n++]='<div'+z3a+'10'+tn+ts+';top:'+(556-i*15)+'px;width:618px;"><!-- --></div><div'+z3a+'10'+tn+ts+';top:'+(506-i*15)+'px;width:618px;"><!-- --></div>'}
if(i<5){if((i!=0)&&(i!=4))ts="bfbfbf";else ts="b7b7b7";l3[l3n++]='<div'+z2a+'10'+tn+ts+';top:'+(621-i*15)+'px;width:630px;"><!-- --></div>'}}
if(iend!=1){tn2=mr(savedvol/(tvol*5.0)*100.0);l3[l3n++]='<div'+z3a+'10'+tn+'888;top:'+(441-tn2)+'px;width:627px;"><!-- --></div><div'+z3a+'628'+tn+'bfbfbf;top:'+(441-tn2)+'px;width:58px;"><!-- --></div><div'+z3a+'686px;top:'+(433-tn2)+'px;color:#0000ee;" class="ssp14">TypV: '+volscale(savedvol)+'</div>'}
l3[l3n++]='<div'+dsv2+'630px;top:549px;"class="kdb">0</div><div'+dsv2+'630px;top:499px;"class="kbdb">0</div>';var ltyp=['Strong Bullish','Mild Bullish','Neutral','Mild Bearish','Strong Bearish'];for(j=0;j<5;j++)
l3[l3n++]='<div'+dsv2+'642px;top:'+(554+j*15)+'px;color:#121212" class="ssp12">'+ltyp[j]+'</div>';if(day3c.length==61){tempv=375;l3[l3n++]='<div class="ssp17" id="bt3"'+dsv2+'720px;top:583px;text-decoration:none;cursor:pointer;border-width:0px;background:#6E87A4;padding:5px 10px;border-radius:12px;color:#fff;"onmouseover="showvtext(\'Click to Lock/unlock&nbsp;\',\'bt3\',-15,-30,2);hidechartalerts22()"onmouseout="hidevtext(1);showchartalerts22()"onClick="lockoutchartalerts2()">2 Day</div>';l3[l3n++]='<div id="L5"><div'+z2a+(tempv+100)+'px;top:630px;"class="ssp14">3 Day Candlestick</div>';for(j=0;j<2;j++){i2=0;tempc4=615;if(j==1)
l3[l3n++]='</div><div id="L6"style="display:none;"><div'+z2a+(tempv+50)+'px;top:630px;"class="ssp14">3 Day Candlestick (2 day avg)</div>';for(i=60;i>=j;i--){if(j==0)tn=mf(15.0*day3c[i]);else tn=mf(15.0*(1.0*day3c[i]+1.0*day3c[i-1])*0.5);ts='<div'+z3a+tempc4+'px;width:'+(widthx[pass]-1)+'px;height:';if((tn>0.01)&&(tn<31.0))
l3[l3n++]=ts+tn+'px;top:'+(592-tn)+'px;background:#5555ff;"><!-- --></div>';else if((tn<-0.01)&&(tn>-31.0))
l3[l3n++]=ts+(-tn)+'px;top:591px;background:#ee3333;"><!-- --></div>';else l3[l3n++]=ts+'9px;top:588px;background:#bfbfbf;"><!-- --></div>';if(tn>21.5)ts='sbull';else if(tn>8.0)ts='mbull';else if(tn>-8.5)ts='neut';else if(tn>-21.5)ts='mbear';else ts='sbear';if(j==0)calert1[i2]=ts;else calert2[i2]=ts;if(i==60)tempc4-=4;tempc4-=widthx[pass];i2++}}
l3[l3n++]='</div>'}
i2=startx[pass];for(i=startingdays[pass];i<zzz;i=i+8){x5=i+5;x7=i+7;z9=149-i/8;if(tprice[x5]>0){if(oldestz9<0)oldestz9=z9;x6=i+6;if(i==1192)if(pass>3)i2+=2;else if(pass>2)i2+=1;else if(pass>1)i2+=3;else i2+=4;if(tprice[x7]==0){dayinc[z9]=1}else{if(tprice[x7]<=12){mnum=tprice[x7]-1;tempv=1}else{tempv=mf(tprice[x7]/20)+1;mnum=tprice[x7]-((tempv-1)*20+1)}
if(mnum>=0)
l3[l3n++]='<div'+z1a+(i2+widthx[pass]-1)+'px;top:30px;background:#b7b7b7;width:1px;height:601px;"><!-- --></div><div'+z3a+(i2+widthx[pass])+'px;top:440px;"class="ssp14">'+monthname[mnum]+'</div>';dayinc[z9]=tempv}
if((indexes==1)&&(indxmult==0))tprice[i]=50;if(tprice[x6]==1)volcor=461;else volcor=511;if(tprice[x6]==1)tempv=globgreenbars[pass];else if(tprice[x6]==2)tempv=globredbars[pass];else tempv='000';ts='<div'+z4a+(i2)+'px;background:#'+tempv+';width:'+(widthx[pass]-1)+'px;height:';if(tprice[i]<0){if(((i-8)>=0)&&(tprice[i-8]<0)){if(i!=1192)voltxtadd=2;else voltxtadd=0;if(((i-16)>=0)&&(tprice[i-16]<0)){if(i!=1192)voltxtadd=4;else voltxtadd=1;if(((i-24)>=0)&&(tprice[i-24]<0)){if(i!=1192)voltxtadd=6;else voltxtadd=3}}}else voltxtadd=0;if(widthx[pass]>=5)voltxtadd+=1;if(widthx[pass]>=7)voltxtadd+=1;l3[l3n++]='<div'+dsv2+(i2-2+voltxtadd)+'px;top:338px;z-index:6;"class="tt">'+volchar[volextfound]+'</div>';for(j=0;j<3;j++)
l3[l3n++]=ts+'4px;top:'+(351+j*6)+'px;"><!-- --></div>';l3[l3n++]=ts+'72px;top:369px;"><!-- --></div>';l3[l3n++]=ts+'45px;top:'+volcor+'px;"><!-- --></div>';volextstr+=volchar[volextfound]+'='+volscale(-1*1.00*(tprice[i]))+' &nbsp;  ';volextfound++}else{l3[l3n++]=ts+tprice[i]+'px;top:'+(441-tprice[i])+'px;"><!-- --></div>';l3[l3n++]=ts+(mr(tprice[i]*0.45))+'px;top:'+(volcor+45-(mr(tprice[i]*0.45)))+'px;"><!-- --></div>'}
if((tabletmode==0)&&(mobilemode==0)&&(msbrowser==0))
l3[l3n++]='<div'+z5a+(i2-1)+'px;top:30px;width:'+(widthx[pass]-1)+'px;height:280px;"onmouseover="ton('+z9+','+i+','+(i2)+')"></div><div'+z5a+(i2-1)+'px;top:341px;width:'+(widthx[pass]-1)+'px;height:285px;"onmouseover="ton('+z9+','+i+','+(i2)+')"></div>';if(z9==0){var onmousestr='',fontsize=14;if((tabletmode==0)&&(mobilemode==0)&&(msbrowser==0))
onmousestr='onmouseover="ton(0,1192,615);"';if((tabletmode==1)||(mobilemode==1))
fontsize=15;l3[l3n++]='<div id="ttb"'+z2a+(i2)+'px;top:25px;width:'+(widthx[pass]-1)+'px;height:601px;background:#e5e5e5"><!-- --></div><div id="ttc" '+onmousestr+' class="ssp'+fontsize+'" style="z-index:4;display:inline-block;position:absolute;left:687px;top:323px;background:#F9F0DF;border:0.5px solid #e1e2e3;padding:2px 4px 1px 3px;border-radius:12px;line-height:1.3em;"></div>';if((tabletmode==1)||(mobilemode==1)){var addh=0;if(mobilemode==1)addh=5}}
if((tabletmode==0)&&(mobilemode==0)&&(msbrowser==0)&&((z9==0)||(z9==1))){if(z9==1)endwidth=widthx[pass];else endwidth=40;l3[l3n++]='<div'+z5a+(i2+widthx[pass]-1)+'px;top:30px;width:'+endwidth+'px;height:280px;display:block;"onmouseover="ton('+z9+','+(i+20+20*z9)+','+i2+')"><!-- --></div><div'+z5a+(i2+widthx[pass]-1)+'px;top:341px;width:'+endwidth+'px;height:285px;display:block;"onmouseover="ton('+z9+','+(i+20+20*z9)+','+i2+')"><!-- --></div>'}}
i2+=widthx[pass]}
dayinc[0]=0;for(i=1;i<=oldestz9;i++)dayinc[i]+=dayinc[i-1];l3[l3n++]=writerestar(0);if(dayma1on>1){dayma1div=1/dayma1on;dayma1[0]=0}
if(dayma2on>1){dayma2div=1/dayma2on;dayma2[0]=0}
pixz=pixspan;lnz=lnstart;i2=startx[pass];i3=0;rmacnt=1;rmaon=21;rma[0]=0.0;var shadcenter=(widthx[pass]-1)/2-shadwidth[pass]/2;for(i=startingdays[pass];i<zzz;i=i+8){x1=i+1;x2=i+2;x3=i+3;x4=i+4;x5=i+5;x7=i+7;z9=149-i/8;if(tprice[x5]>0){x6=i+6;if(i==1192)if(pass>3)i2+=2;else if(pass>2)i2+=1;else if(pass>1)i2+=3;else i2+=4;tp1=-tprice[x1]-tprice[x4];tp2=tp1-tprice[x3];if(regchart==0){top1=(ml(endporg-tprice[x1]*pixorg)-lnz)*pixz;top2=(ml(endporg+tp1*pixorg)-lnz)*pixz;top3=(ml(endporg+tp2*pixorg)-lnz)*pixz;top4=(ml(endporg+(tp2-tprice[x2])*pixorg)-lnz)*pixz}else{top1=(endporg-tprice[x1]*pixorg-lnz)*pixz;top2=(endporg+tp1*pixorg-lnz)*pixz;top3=(endporg+tp2*pixorg-lnz)*pixz;top4=(endporg+(tp2-tprice[x2])*pixorg-lnz)*pixz}
tshad=top1-top2;if(tshad<0)tshad=0;tbod=top2-top3;if(tbod<1)tbod=1;lshad=top3-top4;if(lshad<0)lshad=0;if(z9<=4){openv[z9]=trimnum(opprice[z9]);closev[z9]=trimnum(clprice[z9])}else{if(tprice[x5]==2){tn=tp1;tn2=tp2}else{tn=tp2;tn2=tp1}
openv[z9]=trimnum(endporg+tn*pixorg);closev[z9]=trimnum(endporg+tn2*pixorg)}
if((i2<140)&&(top1>208))chartoverlap=1;if(stickchart<=1)
l3[l3n++]='<div style="z-index:6;position:absolute;left:'+(i2)+'px;top:'+(310-mr(top1))+'px;width:'+mr(widthx[pass]-1)+'px;">';if(stickchart==0){if(tshad>0)
l3[l3n++]='<div style="margin-left:'+shadcenter+'px;width:'+shadwidth[pass]+'px;background:#'+shadcolor[pass]+';height:'+mr(tshad)+'px;"></div>';if(tbod>1.7){l3[l3n++]='<div style="background:#';ts=tprice[x5];if(tprice[x5]==1)l3[l3n++]=globgreenbars[pass];else if(tprice[x5]==2)l3[l3n++]=globredbars[pass];else l3[l3n++]=shadcolor[pass];l3[l3n++]=';height:'+mr(tbod)+'px;"></div>'}else l3[l3n++]='<div style="background:#'+shadcolor[pass]+';height:'+mr(tbod)+'px;"></div>';if(lshad>0)
l3[l3n++]='<div style="margin-left:'+shadcenter+'px;width:'+shadwidth[pass]+'px;background:#'+shadcolor[pass]+';height:'+mr(lshad)+'px;"></div>'}else if(stickchart==1){if(tprice[x5]==1){tn=tshad;tn2=top2-top4;if(tn2<0)tn2=0}else{tn=top1-top3;if(tn<0)tn=0;tn2=lshad}
if(tprice[x6]==1)tempv=globgreenbars[pass];else if(tprice[x6]==2)tempv=globredbars[pass];else tempv=shadcolor[pass];if(tn>0)
l3[l3n++]='<div style="width:'+barchartwidth[pass]+'px;height:'+mr(tn)+'px;background:#'+tempv+'"></div>';if(pass==0)
widthstr='width:'+widthx[pass]+'px;';l3[l3n++]='<div style="'+widthstr+'height:'+barchartwidth[pass]+'px;background:#'+tempv+'"></div>';if(tn2>0)
l3[l3n++]='<div style="width:'+barchartwidth[pass]+'px;height:'+mr(tn2)+'px;background:#'+tempv+'"></div>'}else{if(tprice[x5]==1)tn=tshad;else tn=top1-top3;if(tn<0)tn=0;linept[linen++]=(i2+mr((widthx[pass]-1)/2))+','+(280-mr(top1)+tn)}
if(stickchart<=1)
l3[l3n++]='</div>';if(tprice[x5]==1)rma[rmacnt]=rma[rmacnt-1]-tp1;else rma[rmacnt]=rma[rmacnt-1]-tp2;if(rmacnt>=rmaon){drawrma(i2,endporg-(rma[rmacnt]-rma[rmacnt-rmaon])*0.047619*pixorg,longavg,lnstart,pixspan,rmaperc,rmaperc2,0,pass,rmaptn,rmaptu,rmaptl,rmapt3,rmapt1,rmapt2,rmapt4,rmapt5)}
rmacnt++;if((dayma1on>1)||(dayma2on>1)){if(tprice[x5]==1)tn=280-mr(top2);else tn=280-mr(top3);if(dayma1on>1){dayma1[dayma1cnt]=dayma1[dayma1cnt-1]+tn;if(dayma1cnt>=dayma1on)
lineavg1[lineavg1n++]=(i2+mr((widthx[pass]-1)/2))+','+mr((dayma1[dayma1cnt]-dayma1[dayma1cnt-dayma1on])*dayma1div);dayma1cnt++}
if(dayma2on>1){dayma2[dayma2cnt]=dayma2[dayma2cnt-1]+tn;if(dayma2cnt>=dayma2on)
lineavg2[lineavg2n++]=(i2+mr((widthx[pass]-1)/2))+','+mr((dayma2[dayma2cnt]-dayma2[dayma2cnt-dayma2on])*dayma2div);dayma2cnt++}}}
i2+=widthx[pass]}
l3[l3n++]=returnsmalltranschart2(0,chartoverlap,chartptn,chartpt);tn2='<div'+z2a+'11px;height:4px;width:609px;background:#dddddd;top:';l3[l3n++]='<div'+z2a+'11px;top:456px;height:5px;width:618px;background:#dddddd;"><!-- --></div>';l3[l3n++]='<div'+z2a+'623px;top:450px;height:14px;"class="ssp14"> &nbsp; DualVolume&#8482 &nbsp; </div>';l3[l3n++]='<div'+z2a+'11px;top:343px;color:#aaa;"class="ssp14"> &nbsp; SmartVolume&#8482</div>';if(chartoverlap)l3[l3n++]='<div'+z3a+'14px;top:30px;color:#aaa;"class="ssp14"> &nbsp;RallyBands&#8482</div>';else l3[l3n++]='<div'+z3a+'14px;top:292px;color:#aaa;"class="ssp14"> &nbsp;RallyBands&#8482</div>';l3[l3n++]='<div'+z2a+'631px;top:477px;color:#008800;"class="ssp14">Up Vol</div>';l3[l3n++]='<div'+z2a+'631px;top:527px;color:#cc0000;"class="ssp14">Down Vol</div>'+tn2+'507px;"><!-- --></div>'+tn2+'557px;"><!-- --></div>';l3[l3n++]='<div'+z2a+'11px;top:311px;width:609px;height:30px;background:#e9eaeb;"><!-- --></div><div class="ssp14" '+z2a+'16px;top:317px;">'+volextstr+'</div>';if((indxintra==1)&&(insymbol.substr(0,1)!='*')){l3[l3n++]='<div dir="rtl" '+z2a+'300px;top:311.5px;width:319px;white-space:nowrap;text-align:right;">';ts='this.style.background=\'#6E87A4\';isonchartlink=-1;getid(\'bchart0\').style.display=\'none\';';for(i=0;i<=5;i++)
if(multichart[i]>0){ts2='this.style.background=\'#'+greencode+'\';isonchartlink='+(multichart[i]-1)+';changebigchartwlc(0,1);';l3[l3n++]='<div dir="ltr" id="mc0_'+i+'" class="ssp17" style="z-index:9;display:inline-block;color:#fff;cursor:pointer;border-radius:12px;border-width:0px;background:#6E87A4;padding:4px 13px 3px 13px"';l3[l3n++]='onmouseout="if ((mobile==0)&&(lockoverlay[0]==0)){'+ts+'}"onmouseover="if ((mobile==0)&&(lockoverlay[0]==0)){'+ts2+'}"';l3[l3n++]='onclick="if(lockoverlay[0]=='+(i+1)+'){lockoverlay[0]=0;'+ts+'}else{clearoverlayhighlight(0);lockoverlay[0]='+(i+1)+';wrotetonoverlay[0]=0;this.style.background=\'#'+greencode+'\';'+ts2+'}">'+defgdesc2[multichart[i]-1]+'</div><div style="display:inline-block;height:12px;width:4px;"><!-- --></div>'}
l3[l3n++]='</div>'}}
tpricer[1]=tpricer1orig;if(processedzoom[0]==0){if(isabot==0){inhtml(chartheader+'<div id="L1">'+l3.join('')+'</div>');inhtmlout();inhtmlclr();drawrmaline('mchart0','rmalinechart0',rmaptn.x,rmapt3,1);drawavgline('mchart0','avgline1chart0',lineavg1n,lineavg1,'4444ee');drawavgline('mchart0','avgline2chart0',lineavg2n,lineavg2,'ee7c00');drawrmaarea('mchart0','rmaareauchart0',rmaptu.x,rmapt1,rmapt2);drawrmaarea('mchart0','rmaareadchart0',rmaptl.x,rmapt4,rmapt5);drawsmallchart('smalltranschart0','canvastranschart0',chartptn.x,chartpt);drawlinechart('mchart0','canvaslinechart0',linept,linen)}else inhtml(chartheader+'<div id="L1"></div>')}else{getid('L1').innerHTML=l3.join('');drawrmaline('mchart0','rmalinechart0',rmaptn.x,rmapt3,1);drawavgline('mchart0','avgline1chart0',lineavg1n,lineavg1,'4444ee');drawavgline('mchart0','avgline2chart0',lineavg2n,lineavg2,'ee7c00');drawrmaarea('mchart0','rmaareauchart0',rmaptu.x,rmapt1,rmapt2);drawrmaarea('mchart0','rmaareadchart0',rmaptl.x,rmapt4,rmapt5);drawsmallchart('smalltranschart0','canvastranschart0',chartptn.x,chartpt);drawlinechart('mchart0','canvaslinechart0',linept,linen);return}
processedzoom[0]=1;l3=[];l3n=0;if(isabot==0){gdivname=getid('ttb');gdivname2=getid('ttc');ton(0,1192,615)}
l3[l3n++]='</div></div>';if((tabletmode==0)&&(mobilemode==0)){l3[l3n++]=writeoutchartsum('a');if(sample==0)dosuma=1}
if(regoutput!=1){if((qchart=="1")||(schart==1))tn='50%';else tn='5%';l3[l3n++]='<div style="padding-top:5px;">';inhtml(l3.join(""));l3=[];l3n=0;if((qchart=="1")||(schart==1)){if(mobilemode==0){l3[l3n++]='<div style="float:left;padding-left:55px;"><div style="display:inline-block;position:relative;background:#eeeff0;border-radius:12px;padding:5px;padding-top:10px;border:1px solid #cacbcc;width:300px;">';if(isabot==0)l3[l3n++]=writesmallchart(1);l3[l3n++]='</div></div>';inhtml(l3.join(""));l3=[];l3n=0}}
tn='<tr><td nowrap><kbd>&nbsp;<font color=';tn3='</b></font> - ';tn2='</kbd></td></tr>';ts='';if((tabletmode==0)&&(mobilemode==0)){l3[l3n++]='<div style="float:left;padding-left:40px;"><div style="border-radius:12px;border:1px solid #cacbcc;padding:5px;width:140px;background:#eeeff0"><kbd><b>Key</b></kbd><br><table cellspacing="0" cellpadding="2">';l3[l3n++]=tn+'blue><b>T1'+tn3+'Long Target 1'+tn2;l3[l3n++]=tn+'blue><b>T2:'+tn3+'Long Target 2'+tn2;l3[l3n++]=tn+'blue><b>BO:'+tn3+'Breakout'+tn2;l3[l3n++]=tn+'red><b>S1'+tn3+'Short Target 1'+tn2;l3[l3n++]=tn+'red><b>S2:'+tn3+'Short Target 2'+tn2;l3[l3n++]=tn+'red><b>BD:'+tn3+'Breakdown'+tn2+'</table></div></div>'}
if((qchart!="1")&&(schart!=1))
l3[l3n++]='<div style="float:left;width:110px;"><!-- --></div>';strs='</kbdb></td></tr><tr><td><kbdb><b><font color="#0000ff">';tn2='</font></b> ';if((tabletmode==0)&&(mobilemode==0))
l3[l3n++]='<div class="ssp14" style="float:left;padding-left:60px;">';else{if(mobilemode==1)
l3[l3n++]='<div class="ssp14" style="float:left;padding-left:20px;">';else l3[l3n++]='<div class="ssp14" style="float:left;padding-left:50px;">'}
l3[l3n++]='<div style="background:#eeeff0;border-radius:12px;border:1px solid #cacbcc;padding:4px;width:310px;"><table cellspacing=0 cellpadding=2><tr><td><kbdb><font color="#0000ee"><b>Quote'+tn2+cprice+', '+resexp;tn=-1;if(justinres>=0)tn=justinres;else if(justoutres>=0)tn=justoutres;if(tn>=0){l3[l3n++]=' '+trimnum(resprice[tn])}
l3[l3n++]=strs+'1 Day'+tn2+rchange+', ';if(rchange>0)tn=rchange;else tn=-rchange+11;l3[l3n++]=pricesdescrip[tn]+savedchangestr;l3[l3n++]=strs+'Direction'+tn2+ldir2+', ';if(ldir2<0)tn=-ldir2+11;else tn=ldir2;l3[l3n++]=rallypullsdescip[tn]+'.';l3[l3n++]=strs+'Typical rally/pullback'+tn2+typmove+' pts<br><font color="#0000ee"><b>Extreme'+tn2+exmove+' pts'+strs+'Overbought/sold'+tn2+boughtidx+', ';if(boughtidx<0)tn=-boughtidx+11;else tn=boughtidx;l3[l3n++]=boughtsdescip[tn];l3[l3n++]='.'+strs+'Month Trend'+tn2+monthtrend+', ';if(monthtrend>=0)tn=monthtrend;else tn=-monthtrend+11;l3[l3n++]=monthtrendsdescrip[tn];l3[l3n++]=' trend.</kbdb></td></tr></table></div>';inhtml(l3.join("")+'</div><div class="clearit"></div></div>')}else inhtml(l3.join(""));inhtml(smallsp)}else inhtml(smallsp+smallsp+'<table cellspacing=0 cellpadding=0 width=100%><tr><td align=center width=100% COLSPAN=3><br><br><center><b>No 8 Month Chart Available</b></center><br><br><br></td></tr></table>')}
function tradequalityreg(longval,vstr,num){var n=0,l3=[],tradestr='',tradetype=['short','long'],fontstr;l3[n++]='<div style="width:130px;padding:8px 0px 0px 20px;">';l3[n++]=tradequalitysumb(longval,vstr,num);l3[n++]='<div style="clear:both;"></div></div>';return(l3.join(""))}
function tradequalitysumb(longval,vstr,num){var n=0,l3=[],hpad,tradestr='',imgtoppad=[6,6],imgbotpad=[7,4],tradetype=['Short','Long'],fontcolor=[sumred,sumblue],topval=[72,25],padstr=-5;if(vstr==100)hpad=29;else if(vstr<10)hpad=37;else hpad=33;l3[n++]='<div style="width:10px;float:left;padding:2px 0px 5px 0px;"><!-- --></div>';l3[n++]='<div style="position:relative;width:130px;float:left;padding:2px 0px 5px 0px;">';l3[n++]='<div class="ssp13b" style="z-index:9;color:'+fontcolor[longval]+';position:absolute;left:'+hpad+'px;top:'+topval[longval]+'px;">'+vstr+'%</div>';l3[n++]='<div style="display:inline-block;position:relative;top:-8px;left:-4px;" class="ssp14b">Trade Quality</div><a rel="nofollow" id="tqualw'+num+'" style="position:relative;left:-2px;text-decoration:none;" href="https://www.stockconsultant.com/consultnow/tradequaldesc4.html"><img style="position:relative;top:0px;" '+ilnk+'qicont.png" width="24">&nbsp; </a>';l3[n++]='<div style="padding-left:15px;padding-top:'+imgtoppad[longval]+'px;width:60px;height:43px">';l3[n++]='<img width=60 height=43 '+ilnk;if(longval)l3[n++]=upsidetqualimg(vstr);else l3[n++]=downsidetqualimg(vstr);if(longval==0)padstr=28;else padstr=30;l3[n++]='"></div><div class="ssp14" style="color:#121212;position:relative;left:'+padstr+'px;padding-top:'+imgbotpad[longval]+'px;">';l3[n++]=tradestr+' '+tradetype[longval]+'</div>';l3[n++]='</div>';return(l3.join(""))}
function writeposition(){var ts='',ts2;if(hidepositioningsec=="1")ts='checked';ts2='<span style="padding-left:6px;" class="ssp16"><label><input style="cursor:pointer;"type="checkbox" '+ts+' onclick="changepossec(0)" value="" id="selpossection"><a style="text-decoration:none;position:relative;top:-1px;color:#0000ff;" href="javascript:void(0);" onclick="changepossec(1)">Hide</a></label></span>';writesecheader('Positioning Indicators',ts2,'left','secid5');inhtmlclr();inhtml('<div style="padding-left:10px;">Indicators for positioning trade entry and exits.</div>'+'<div style="padding-right:10px;">');if(hidepositioningsec=="0"){writepricepos();inhtml(endind2);writerallypull2(0,0);inhtml(endind2);writebought(0,0);inhtml(endind2);write1monthtrend(0,0);inhtml(endind2);writeintertrend(0,0);inhtml(endind2);writeressup();inhtml(endind2);inhtml(smallsp)}
inhtml('</div></div>');inhtmlout()}
function writetiming(){var ts='',ts2;if(hidetimingsec=="1")ts='checked';ts2='<span style="padding-left:6px;" class="ssp16"><label><input style="cursor:pointer;"type="checkbox" '+ts+' onclick="changetimingsec(0)" value="" id="seltimingsection"><a style="text-decoration:none;position:relative;top:-1px;color:#0000ff;" href="javascript:void(0);" onclick="changetimingsec(1)">Hide</a></label></span>';writesecheader('Timing Indicators',ts2,'left','secid6');inhtmlclr();inhtml('<div style="padding-left:10px;">Indicators for timing trade entry and exits.</div>');if(hidetimingsec=="0"){inhtml('<div style="padding-top:5px;padding-left:17px;" class="ssp14">Over 120 three day candlestick chart patterns analyzed.</div>'+'<div style="padding-right:10px;">');writebullishchart(0,0);if(indexes==0){write1daymf(0,0);inhtml(endind2)}
writebreakoutdownres(2,0);inhtml('</div>'+smallsp+smallsp)}
inhtml('</div>');inhtmlout()}
function displaybreaktip(){getid('breaktipid').innerHTML='<span class="ssp14">Breakout trade is a special trade that does not require bullish Overall indicators. The overbought indicator may affect the success of the breakout trade.</span>'}
function upsidedownside(){bodid2.insertAdjacentHTML('beforeend','<div id="LONGT"><!-- --></div>');writesecheader('Long Trade','<div style="display:inline-block;white-space:nowrap;padding-left:10px;">Long trade indicators</div>','left','secid7');inhtmlclr();if(mobilemode==1)inhtml('<div style="padding-right:10px;">');writeupsidetradeinfo();if(mobilemode==1)inhtml('</div>');inhtml('<div style="height:20px;"><!-- --></div></div>');inhtmlout();rcldisplayvars();writesecheader('Breakout Trade','<span style="padding-left:10px;">Breakout trade indicators.</span>','left','secid8');inhtmlclr();inhtml('<div style="padding-right:10px;">'+'<div class="ssp15" id="breaktipid" style="padding-top:3px;padding-left:10px;">'+'<span style="color:#0000ff;cursor:pointer" onclick="displaybreaktip();">Breakout Tip</span></div>');writebreakout(0,1);inhtml('</div>'+endind2);inhtml('<div style="height:20px;"><!-- --></div></div>');inhtmlout();bodid2.insertAdjacentHTML('beforeend','<div id="SHORTT"><!-- --></div>');writesecheader('Short Trade','<div style="display:inline-block;white-space:nowrap;padding-left:10px;">Short trade indicators</div>','left','secid9');inhtmlclr();if(mobilemode==1)inhtml('<div style="padding-right:10px;">');writedownsidetradeinfo();if(mobilemode==1)inhtml('</div>');inhtml('<div style="height:20px;"><!-- --></div></div>');inhtmlout();writesecheader('Breakdown Trade','<span style="padding-left:10px;">Breakdown trade indicators.</span>','left','secid10');inhtmlclr();inhtml('<div style="padding-right:10px;">');writebreakdown(0,1);inhtml('</div>'+endind2+'<div style="height:20px;"><!-- --></div></div>');inhtmlout();rcsdisplayvars()}
function writebreakouttype(resnum,numtype,sum){if(numtype==0){breaktxt="breakout";restxt="resistance"}else{breaktxt="breakdown";restxt="support"}
if(restype[resnum]>1)
outstr2='Type: <b>True</b> '+breaktxt+' from ';else outstr2='Type: <b>Continuation</b> '+breaktxt+' from ';inhtml(outstr2+writerestype2(restype[resnum],sum)+' '+restxt+'. ')}
function writebreakoutdowntargetinfo(target,noind){var profit,loss,stop,plratio,types,outstr2='';if(target>cprice){types="Stop";loss=lossl;stop=shortprice;profit=(target-cprice)/cprice*100.0}else{types="Cover";loss=losss;stop=coverprice;profit=(cprice-target)/cprice*100.0}
var plr=trimnumfxd(profit/loss);if(noind)outstr2='<br>';else outstr2=indmid2;outstr2+='Target: <b>'+trimnum(target)+', '+trimnumfxd(profit)+'%</b> &nbsp;'+types+': '+stop+' &nbsp;'+dvblk+'Loss: '+loss+'%</div> &nbsp;'+dvblk+'P/L ratio: '+plr+' : 1 - ';outstr2+='<b>';if(plr<1.8)outstr2+='Poor';else if(plr<2.2)outstr2+='Fair';else if(plr<3.1)outstr2+='Good';else outstr2+='Excellent';inhtml(outstr2+'</b></div>')}
function writebreakoutdowntargetinfosum(target,noind){var profit,loss,stop,plratio,types,outstr2='';if(target>cprice){types="Stop";loss=lossl;stop=shortprice;profit=(target-cprice)/cprice*100.0}else{types="Cover";loss=losss;stop=coverprice;profit=(cprice-target)/cprice*100.0}
var plr=trimnumfxd(profit/loss);outstr2+='Target: <b>'+trimnum(target)+', '+trimnumfxd(profit)+'%</b> &nbsp;'+types+': '+stop+' &nbsp;Loss: '+loss+'%<br>P/L ratio: '+plr+' : 1 - ';outstr2+='<b>';if(plr<1.8)outstr2+='Poor';else if(plr<2.2)outstr2+='Fair';else if(plr<3.1)outstr2+='Good';else outstr2+='Excellent';return(outstr2+'</b>')}
function writebreakoutdownsum(){var outstr='';if((isnotbearish)&&(!bearish1daymonflow)&&(justoutres>=0)&&(upsidebreak>0.0))
outstr+='<b>'+pba+upsidebreak+'</font><br>';else if((justinres>=0)&&(upsidebreak>0.0))
outstr+='<b>WATCH</b> for possible breakout <font color="#0000EE"><b>above '+upsidebreak+'</b></font><br>';else outstr+='None.<br>';if((isnotbullish)&&(!bullish1daymonflow)&&(justoutres>=0)&&(dwnsidebreak>0.0))
outstr+='<b>'+pbb+dwnsidebreak+'</font><br>';else if((justinres>=0)&&(dwnsidebreak>0.0))
outstr+='<b>WATCH</b> for possible breakdown <font color="#EE0000"><b>below '+dwnsidebreak+'</b></font><br>';else outstr+='None.<br>';return(outstr)}
function writebreakoutsum(){var outstr='';if(confirmupbrk==1){outstr+='<b>'+cba+'<b>'+upsidebreak+'</b></font><br>';outstr+=writebreakoutdowntargetinfosum(upsidebreak+upbrkamount,1)}else if((isnotbearish)&&(!bearish1daymonflow)&&(justoutres>=0)&&(upsidebreak>0.0)){outstr+='<b>'+pba+'<b>'+upsidebreak+'</b></font><br>';outstr+=writebreakoutdowntargetinfosum(upsidebreak+upbrkamount,1)}else if((justinres>=0)&&(upsidebreak>0.0)){outstr+='<b>WATCH</b> for possible breakout <font color="#0000EE"><b>above '+upsidebreak+'</b></font><br>';outstr+=writebreakoutdowntargetinfosum(upsidebreak+upbrkamount,1)}else outstr+='None.<br>';return(outstr)}
function writebreakdownsum(){var ts='<br>Target: <b>N/A</b>',outstr='';if(confirmdwnbrk==1){outstr+='<b>'+cbb+'<b>'+dwnsidebreak+'</b></font><br>';if((dwnsidebreak-dwnbrkamount)>0.0)
outstr+=writebreakoutdowntargetinfosum(dwnsidebreak-dwnbrkamount,1);else outstr+=ts}else if((isnotbullish)&&(!bullish1daymonflow)&&(justoutres>=0)&&(dwnsidebreak>0.0)){outstr+='<b>'+pbb+'<b>'+dwnsidebreak+'</b></font><br>';if((dwnsidebreak-dwnbrkamount)>0.0)
outstr+=writebreakoutdowntargetinfosum(dwnsidebreak-dwnbrkamount,1);else outstr+=ts}else if((justinres>=0)&&(dwnsidebreak>0.0)){outstr+='<b>WATCH</b> for breakdown <font color="#EE0000"><b>below '+dwnsidebreak+'</b></font><br>';if((dwnsidebreak-dwnbrkamount)>0.0)
outstr+=writebreakoutdowntargetinfosum(dwnsidebreak-dwnbrkamount,1);else outstr+=ts}else outstr+='None.<br>';return(outstr)}
function writebreakout(special,alsocolor){var none=0;if((special==1)||(alsocolor==1))
wrind('BREAKOUT',2,1);else wrind('BREAKOUT',1,1);if(confirmupbrk==1){if(special==0){inhtml('<b>'+cba+upsidebreak+'</font>'+nresa+indmid2);writebreakouttype(breakoutres,0)}else inhtml('<b>Confirmed.</b>');writebreakoutdowntargetinfo(upsidebreak+upbrkamount)}else if((isnotbearish)&&(!bearish1daymonflow)&&(justoutres>=0)&&(upsidebreak>0.0)){if(special==0){inhtml('<b>'+pba+upsidebreak+'</font>'+nresa+indmid2);writebreakouttype(breakoutres,0)}else inhtml('<b>Possible.</b>');writebreakoutdowntargetinfo(upsidebreak+upbrkamount)}else if((justinres>=0)&&(upsidebreak>0.0)){if(special==0){inhtml('<b>WATCH</b> for possible breakout <font color="#0000EE">above '+upsidebreak+'</font>'+nresa+indmid2);writebreakouttype(breakoutres,0)}else inhtml('<b>Watch.</b>');writebreakoutdowntargetinfo(upsidebreak+upbrkamount)}else{inhtml('None.');breakspu--;none=1}}
function writebreakdown(special,alsocolor){var ts=indmid2+'Target: <b>N/A</b>',none=0;if((special==1)||(alsocolor==1))
wrind('BREAKDOWN',3,1);else wrind('BREAKDOWN',1,1);if(confirmdwnbrk==1){if(special==0){inhtml('<b>'+cbb+dwnsidebreak+'</font>'+nsupb+indmid2);writebreakouttype(breakdwnres,1)}else inhtml('<b>Confirmed.</b>');if((dwnsidebreak-dwnbrkamount)>0.0)
writebreakoutdowntargetinfo(dwnsidebreak-dwnbrkamount);else inhtml(ts)}else if((isnotbullish)&&(!bullish1daymonflow)&&(justoutres>=0)&&(dwnsidebreak>0.0)){if(special==0){inhtml('<b>'+pbb+dwnsidebreak+'</font>'+nsupb+indmid2);writebreakouttype(breakdwnres,1)}else inhtml('<b>Possible.</b>');if((dwnsidebreak-dwnbrkamount)>0.0)
writebreakoutdowntargetinfo(dwnsidebreak-dwnbrkamount);else inhtml(ts)}else if((justinres>=0)&&(dwnsidebreak>0.0)){if(special==0){inhtml('<b>WATCH</b> for possible breakdown <font color="#EE0000">below '+dwnsidebreak+'</font>'+nsupb+indmid2);writebreakouttype(breakdwnres,1)}else inhtml('<b>Watch.</b>');if((dwnsidebreak-dwnbrkamount)>0.0)
writebreakoutdowntargetinfo(dwnsidebreak-dwnbrkamount);else inhtml(ts)}else{inhtml('None.');breakspd--;none=1}}
function writebreakoutdownres(summary,bullishtest){if(summary==1){var ts;if(bullishtest==1){ts=upsidebreak+'</font>'+nresa+indmid2;if(confirmupbrk==1)
inhtml(bcstr+'<b>'+cba+ts);else if((isnotbearish)&&(!bearish1daymonflow)&&(justoutres>=0)&&(upsidebreak>0.0))
inhtml(bcstr+'<b>'+pba+ts);else if((justinres>=0)&&(upsidebreak>0.0))
inhtml(bcstr+'<b>'+wba+ts)}else{ts=dwnsidebreak+'</font>'+nsupb+indmid2;if(confirmdwnbrk==1)
inhtml(brcstr+'<b>'+cbb+ts);else if((isnotbullish)&&(!bullish1daymonflow)&&(justoutres>=0)&&(dwnsidebreak>0.0))
inhtml(brcstr+'<b>'+pbb+ts);else if((justinres>=0)&&(dwnsidebreak>0.0))
inhtml(brcstr+'<b>'+wbb+ts)}}else{writebreakout(0,0);inhtml(endind2);writebreakdown(0,0);inhtml(endind2)}}
function writeupsidetradeinfo(){var n=0,l3=[],fwidth='',ts,ts2='</a>',ts3='',ts4=' &nbsp; &nbsp; &nbsp; &nbsp; ( Stock Quote: '+cprice+' )';if((tabletmode==0)&&(mobilemode==0))fwidth='width:'+(standwidthout-415)+'px;';inhtml('<div style="float:left;'+fwidth+'"><div style="padding-left:10px;">'+tradequalityreg(1,tquall,2)+'</div>');wrind('TARGET 1',2,1);n=0;l3=[];l3[n++]='Price: <b>'+target1_long+'</b> &nbsp;&nbsp; Profit: <b>'+profit1_long+'%</b> &nbsp;'+dvblk+'<font color="#0000EE">';if(profit1_long==0)
l3[n++]='<i>(Strong rally has exceeded Target 1)</i>';else l3[n++]='<i>(Typical rally)</i>';l3[n++]='</font></div>'+indmid2+'Stop/Trailing Stop: <b>'+shortprice+'</b> &nbsp; &nbsp; Loss: <b>'+lossl+'%</b>'+indmid2+dvblk+'P/L Ratio: '+plratiol+' : 1 - '+writeplratio(plratiol);l3[n++]='</div>'+endind2;inhtml(l3.join(""));n=0;l3=[];wrind('POTENTIAL',2,1);l3[n++]='<b>'+rallypottxt[10-resinwaystrenl]+'</b>, there are '+numresinwayl+' ';l3[n++]='resistance areas on the way to Target 1.';if(resinwaystrenl<5)
l3[n++]=indmid2+'<span class="ssp14">The potential to reach targets may be lower with strong resistance areas.</span>';else l3[n++]=indmid2+'<span class="ssp14">When there are few resistance areas, stocks may quickly rise to targets.</span>';l3[n++]=endind2;inhtml(l3.join(""));if(numresinwayl>0){n=0;l3=[];wrind('TARGET 1 RESISTANCE',2,1);var temptopres=target1_long-target1_long*reswidth,tempnum=0;for(i=0;i<numres;i++)
if((i==justinres)&&(rescomment==10))
l3[n++]='Current price at resistance: '+atsupres+indmid2;else if((resprice[i]>cprice)&&(i!=justinres)&&(resprice[i]<temptopres)){l3[n++]=resabove[tempnum]+indmid2;tempnum++}
l3[n++]='+'+profit1_long+'% at <b>'+target1_long+'</b> is <b>Target 1</b>'+endind2;inhtml(l3.join(""))}
n=0;l3=[];wrind('TARGET 2',2,1);l3[n++]='Price: <b>'+target2_long+'</b> &nbsp;&nbsp; Profit: <b>'+profit2_long+'%</b> ';if((lossl>0)&&(profit2_long>0)){tempnum=trimnumfxd(profit2_long/lossl);l3[n++]='&nbsp; '+dvblk+'P/L Ratio: '+tempnum+' : 1 - '+writeplratio(tempnum)+'</div>'}
l3[n++]='&nbsp; '+dvblk;if(profit2_long==0)
l3[n++]='<font color="#0000ee"><i>(Extreme rally has exceeded Target 2)</i></font>';else l3[n++]='<font color="#0000ee"><i>(Extreme rally)</i></font>';l3[n++]='</div>'+endind2+'</div>';inhtml(l3.join(""));if((tabletmode==0)&&(mobilemode==0))
inhtml('<div style="float:left;padding-left:25px;padding-top:0px;">');else inhtml('<div style="clear:both;"></div><div style="padding-top:15px;padding-left:5px;">');rclwriteoutput();inhtml('</div>');if((tabletmode==0)&&(mobilemode==0))
inhtml('<div style="clear:both;"></div>')}
function writedownsidetradeinfo(){var n=0,l3=[],fwidth='',ts,ts2='</a>',ts3='',ts4=' &nbsp; &nbsp; &nbsp; &nbsp; ( Stock Quote: '+cprice+' )';if((tabletmode==0)&&(mobilemode==0))fwidth='width:'+(standwidthout-415)+'px;';inhtml('<div style="float:left;'+fwidth+'"><div style="padding-left:10px;">'+tradequalityreg(0,tquals,3)+'</div>');n=0;l3=[];wrind('TARGET 1',3,1);if(target1_short>0){l3[n++]='Price: <b>'+target1_short+'</b> &nbsp;&nbsp; Profit: <b>'+profit1_short+'%</b> &nbsp;'+dvblk+'<font color="#EE0000">';if(profit1_short==0)
l3[n++]='<i>(Strong pullback has exceeded Target 1)</i>';else l3[n++]='<i>(Typical pullback)</i>';l3[n++]='</font></div>'+indmid2+'Cover/Trailing Cover: <b>'+coverprice+'</b> &nbsp; &nbsp; Loss: <b>'+losss+'%</b>'+indmid2+dvblk+'P/L Ratio: '+plratios+' : 1 - '+writeplratio(plratios)+'</div>'}else l3[n++]='Price: <b>N/A</b> &nbsp; &nbsp; Profit: <b>N/A %</b>'+indmid2+'Cover/Trailing Cover: <b>N/A</b> &nbsp; &nbsp; Loss: <b>N/A %</b>'+indmid2+'P/L Ratio: N/A : 1 - N/A';l3[n++]=endind2;inhtml(l3.join(""));n=0;l3=[];wrind('POTENTIAL',3,1);if(target1_short>0){l3[n++]='<b>'+rallypottxt[10-resinwaystrens]+'</b>, there are '+numresinways+' ';l3[n++]='support areas on the way to Target 1.';if(resinwaystrens<5)
l3[n++]=indmid2+'<span class="ssp14">The potential to reach targets may be lower with strong support areas.</span>';else l3[n++]=indmid2+'<span class="ssp14">When there are few support areas, stocks may quickly fall to targets.</span>';l3[n++]=endind2;inhtml(l3.join(""))}else inhtml('<b>N/A</b>'+endind2);if(numresinways>0){n=0;l3=[];wrind('TARGET 1 SUPPORT',3,1);var tempbotres=target1_short+target1_short*reswidth,tempnum=0;for(i=numres-1;i>=0;i--)
if((i==justinres)&&(rescomment==(-10)))
l3[n++]='Current price at support: '+atsupres+indmid2;else if((resprice[i]<cprice)&&(i!=justinres)&&(resprice[i]>tempbotres)){l3[n++]=supbelow[tempnum]+indmid2;tempnum++}
if(target1_short>0)
l3[n++]='-'+profit1_short+'% at <b>'+target1_short+'</b> is <b>Target 1</b>';else l3[n++]='- N/A % at N/A is <b>Target 1</b>';l3[n++]=endind2;inhtml(l3.join(""))}
wrind('TARGET 2',3,1);if(target2_short>0){n=0;l3=[];l3[n++]='Price: <b>'+target2_short+'</b> &nbsp;&nbsp; Profit: <b>'+profit2_short+'%</b> ';if((losss>0)&&(profit2_short>0)){tempnum=trimnumfxd(profit2_short/losss);l3[n++]='&nbsp; '+dvblk+'P/L Ratio: '+tempnum+' : 1 - '+writeplratio(tempnum)+'</div>'}
l3[n++]='&nbsp; '+dvblk;if(profit2_short==0)
l3[n++]='<font color="#EE0000"><i>(Extreme pullback has exceeded Target 2)</i></font>';else l3[n++]='<font color="#EE0000"><i>(Extreme pullback)</i></font>';l3[n++]='</div>'+endind2+'</div>';inhtml(l3.join(""))}else inhtml('Price: <b>N/A</b> &nbsp; &nbsp; Profit:  <b>N/A</b> %'+endind2+'</div>');if((tabletmode==0)&&(mobilemode==0))
inhtml('<div style="float:left;padding-left:25px;padding-top:0px;">');else inhtml('<div style="clear:both;"></div><div style="padding-top:15px;padding-left:5px;">');rcswriteoutput();inhtml('</div>');if((tabletmode==0)&&(mobilemode==0))
inhtml('<div style="clear:both;"></div>')}
function writeoverallind(){var n=0,l3=[],fb='<font color="#0000ee">',fr='<font color="#ee0000">',outstr2;l3[n++]='<div style="position:relative;top:3px;border:0.5px solid #76B0D6;padding:2px;"><table bgcolor="#ffffff" cellpadding=0 cellspacing=3>';if(bullindtxt<0)
outstr2=-bullindtxt+11;else outstr2=bullindtxt;if((conbull==0)&&(probbull==0)){l3[n++]='<tr><td nowrap rowspan=2 valign=top>'+fb+'No bullish indicators.</font></td><td width=30 nowrap>&nbsp;</td>';l3[n++]='<td nowrap>'+writebarg(bullindtxt,1,0)+'</td></tr><tr><td></td><td nowrap>'+rateddescr[outstr2]+shtstr+'</td></tr>'}else{if(probbull>0)
l3[n++]='<tr><td nowrap>'+fb+'<b>'+probbull+'</b> bullish probability indicators.</font>';else l3[n++]='<tr><td nowrap>'+fb+'&nbsp;----</font>';l3[n++]='</td><td width=30 nowrap>&nbsp;</td><td nowrap>'+writebarg(bullindtxt,1,0)+'</td></tr>';if(conbull>0)
l3[n++]='<tr><td nowrap>'+fb+'<b>'+conbull+'</b> bullish confirmation indicators.</font>';else l3[n++]='<tr><td nowrap>'+fb+'&nbsp;----</font>';l3[n++]='</td><td width=30 nowrap>&nbsp;</td><td nowrap>'+rateddescr[outstr2]+shtstr+'</td></tr>'}
l3[n++]='<tr><td nowrap height="5" colspan="3"> </td></tr>';if((conbear==0)&&(probbear==0)){l3[n++]='<tr><td nowrap rowspan=2 valign=top>'+fr+'No bearish indicators.</font></td><td> </td>';l3[n++]='<td nowrap>'+writebarg(bugraph,1,2)+fb+'Bullish</font></td></tr><tr><td></td><td nowrap>'+writebarg(-brgraph,1,3)+fr+'Bearish</font></td></tr>'}else{if(probbear>0)
l3[n++]='<tr><td nowrap>'+fr+'<b>'+probbear+'</b> bearish probability indicators.</font>';else l3[n++]='<tr><td nowrap>'+fr+'&nbsp;----</font>';l3[n++]='</td><td> </td><td nowrap>'+writebarg(bugraph,1,2)+fb+'Bullish</font></td></tr>';if(conbear>0)
l3[n++]='<tr><td nowrap>'+fr+'<b>'+conbear+'</b> bearish confirmation indicators.</font>';else l3[n++]='<tr><td nowrap>'+fr+'&nbsp;----</font>';l3[n++]='</td><td> </td><td nowrap>'+writebarg(-brgraph,1,3)+fr+'Bearish</font></td></tr>'}
l3[n++]='</table></div>'+indmid2;inhtml(l3.join(""))}
function newval(num1,num2,sign,shortrecalc){var temp;if(sign==0){if(shortrecalc==1)
temp=num1*(1.0+num2/100.0);else temp=num1*(1.0-num2/100.0)}else{if(shortrecalc==1)
temp=num1*(1.0-num2/100.0);else temp=num1*(1.0+num2/100.0)}
return(trimnumrecalc(temp))}
function newval2(num1,num2,sign,shortrecalc){var temp;if(sign==0){if(shortrecalc==1)
temp=(num2-num1)*100/num1;else temp=(num1-num2)*100/num1}else{if(shortrecalc==1)
temp=(num1-num2)*100/num1;else temp=(num2-num1)*100/num1}
return(trimnumfxd(temp))}
function rclcalcvars(first){if(first==0){if(rclprice!=(1.00*document.rclrecalc.price.value))
rclprice=1.00*document.rclrecalc.price.value;if(rclstop!=(1.00*document.rclrecalc.stop.value))
rclstop=1.00*document.rclrecalc.stop.value;if(rclloss!=(1.00*document.rclrecalc.loss.value)){rclloss=1.00*document.rclrecalc.loss.value;rclstop=newval(rclprice,rclloss,0,0)}
if(rcltarget1!=(1.00*document.rclrecalc.target1.value))
rcltarget1=1.00*document.rclrecalc.target1.value;if(rcltarget1<0.1){rcltarget1=0.1;rclprofit1=newval2(rclprice,rcltarget1,1,0)}
if(rcltarget2!=(1.00*document.rclrecalc.target2.value))
rcltarget2=1.00*document.rclrecalc.target2.value;if(rcltarget2<0.1){rcltarget2=0.1;rclprofit2=newval2(rclprice,rcltarget2,1,0)}
if(rclprofit1!=(1.00*document.rclrecalc.profit1.value)){rclprofit1=1.00*document.rclrecalc.profit1.value;rcltarget1=newval(rclprice,rclprofit1,1,0);if(rcltarget1<0.1){rcltarget1=0.1;rclprofit1=newval2(rclprice,rcltarget1,1,0)}}
if(rclprofit2!=(1.00*document.rclrecalc.profit2.value)){rclprofit2=1.00*document.rclrecalc.profit2.value;rcltarget2=newval(rclprice,rclprofit2,1,0);if(rcltarget2<0.1){rcltarget2=0.1;rclprofit2=newval2(rclprice,rcltarget2,1,0)}}
if(rclbreaklvl>0){if(rclbreakt!=(1.00*document.rclrecalc.breakt.value)){rclbreakt=1.00*document.rclrecalc.breakt.value;rclbreakamt=rclbreakt-rclprice;if(rclbreakamt<0)rclbreakamt=0.0}
if(rclbreakp!=(1.00*document.rclrecalc.breakp.value)){rclbreakp=1.00*document.rclrecalc.breakp.value;rclbreakamt=rclprice*rclbreakp/100.0}}
if(rcltradeamt!=(1.00*document.rclrecalc.tradeamt.value)){rcltradeamt=dollartrim(1.00*document.rclrecalc.tradeamt.value)}
if(rcltradeshares!=(1.00*document.rclrecalc.tradeshares.value)){rcltradeshares=dollartrim(1.00*document.rclrecalc.tradeshares.value);rcltradeamt=dollartrim(rcltradeshares*rclprice)}
if(rclbaseloss!=(1.00*document.rclrecalc.baseloss.value)){rclbaseloss=trimnumrecalc(1.00*document.rclrecalc.baseloss.value)}}
rclloss=retpercent(rclprice,rclstop);rclprofit1=retpercent(rclprice,rcltarget1)*-1;rclprofit2=retpercent(rclprice,rcltarget2)*-1;if(rclbreaklvl>0){rclbreakt=trimnumrecalc(rclprice+rclbreakamt);rclbreakp=retpercent(rclprice,rclbreakt)*-1}else{rclbreakt=0.0;rclbreakp=0.0}
if(rclbreaklvl>0)
if(rclbreakp<0)rclbreakp=0.0;if(rclloss<0)rclloss=0.0;if(rclprofit1<0)rclprofit1=0.0;if(rclprofit2<0)rclprofit2=0.0;rclpl1rat=retratio(rclprofit1,rclloss);rclpl1desc=writeplratio(rclpl1rat);rclpl2rat=retratio(rclprofit2,rclloss);rclpl2desc=writeplratio(rclpl2rat);rclplbrat=retratio(rclbreakp,rclloss);rclplbdesc=writeplratio_b(rclplbrat);if(rclprice>0.0)rcltradeshares=dollartrim(rcltradeamt/rclprice);else rcltradeshares=0;if((rclloss>0.0)&&(rclbaseloss>0.0))
rclriskamt=dollartrim(rclbaseloss/rclloss*rcltradeamt);else rclriskamt=rcltradeamt;if(rclprice>0.0)rclriskshares=dollartrim(rclriskamt/rclprice);else rclriskshares=0;if(first==0)rcldisplayvars()}
function rcscalcvars(first){if(first==0){if(rcsprice!=(1.00*document.rcsrecalc.price.value))
rcsprice=1.00*document.rcsrecalc.price.value;if(rcsstop!=(1.00*document.rcsrecalc.stop.value))
rcsstop=1.00*document.rcsrecalc.stop.value;if(rcsloss!=(1.00*document.rcsrecalc.loss.value)){rcsloss=1.00*document.rcsrecalc.loss.value;rcsstop=newval(rcsprice,rcsloss,0,1)}
if(rcstarget1!=(1.00*document.rcsrecalc.target1.value))
rcstarget1=1.00*document.rcsrecalc.target1.value;if(rcstarget1<0.1){rcstarget1=0.1;rcsprofit1=newval2(rcsprice,rcstarget1,1,1)}
if(rcstarget2!=(1.00*document.rcsrecalc.target2.value))
rcstarget2=1.00*document.rcsrecalc.target2.value;if(rcstarget2<0.1){rcstarget2=0.1;rcsprofit2=newval2(rcsprice,rcstarget2,1,1)}
if(rcsprofit1!=(1.00*document.rcsrecalc.profit1.value)){rcsprofit1=1.00*document.rcsrecalc.profit1.value;rcstarget1=newval(rcsprice,rcsprofit1,1,1);if(rcstarget1<0.1){rcstarget1=0.1;rcsprofit1=newval2(rcsprice,rcstarget1,1,1)}}
if(rcsprofit2!=(1.00*document.rcsrecalc.profit2.value)){rcsprofit2=1.00*document.rcsrecalc.profit2.value;rcstarget2=newval(rcsprice,rcsprofit2,1,1);if(rcstarget2<0.1){rcstarget2=0.1;rcsprofit2=newval2(rcsprice,rcstarget2,1,1)}}
if(rcsbreaklvl>0){if(rcsbreakt!=(1.00*document.rcsrecalc.breakt.value)){rcsbreakt=1.00*document.rcsrecalc.breakt.value;rcsbreakamt=rcsprice-rcsbreakt;if(rcsbreakamt<0)rcsbreakamt=0.0}
if(rcsbreakp!=(1.00*document.rcsrecalc.breakp.value)){rcsbreakp=1.00*document.rcsrecalc.breakp.value;rcsbreakamt=rcsprice*rcsbreakp/100.0}}
if(rcstradeamt!=(1.00*document.rcsrecalc.tradeamt.value)){rcstradeamt=dollartrim(1.00*document.rcsrecalc.tradeamt.value)}
if(rcstradeshares!=(1.00*document.rcsrecalc.tradeshares.value)){rcstradeshares=dollartrim(1.00*document.rcsrecalc.tradeshares.value);rcstradeamt=dollartrim(rcstradeshares*rcsprice)}
if(rcsbaseloss!=(1.00*document.rcsrecalc.baseloss.value)){rcsbaseloss=trimnumrecalc(1.00*document.rcsrecalc.baseloss.value)}}
rcsloss=retpercent(rcsprice,rcsstop)*-1;rcsprofit1=retpercent(rcsprice,rcstarget1);rcsprofit2=retpercent(rcsprice,rcstarget2);if(rcsbreaklvl>0){rcsbreakt=trimnumrecalc(rcsprice-rcsbreakamt);rcsbreakp=retpercent(rcsprice,rcsbreakt)}else{rcsbreakt=0.0;rcsbreakp=0.0}
if(rcsbreaklvl>0)
if(rcsbreakp<0)rcsbreakp=0.0;if(rcsloss<0)rcsloss=0.0;if(rcsprofit1<0)rcsprofit1=0.0;if(rcsprofit2<0)rcsprofit2=0.0;rcspl1rat=retratio(rcsprofit1,rcsloss);rcspl1desc=writeplratio(rcspl1rat);rcspl2rat=retratio(rcsprofit2,rcsloss);rcspl2desc=writeplratio(rcspl2rat);rcsplbrat=retratio(rcsbreakp,rcsloss);rcsplbdesc=writeplratio_b(rcsplbrat);if(rcsprice>0.0)rcstradeshares=dollartrim(rcstradeamt/rcsprice);else rcstradeshares=0;if((rcsloss>0.0)&&(rcsbaseloss>0.0))
rcsriskamt=dollartrim(rcsbaseloss/rcsloss*rcstradeamt);else rcsriskamt=rcstradeamt;if(rcsprice>0.0)rcsriskshares=dollartrim(rcsriskamt/rcsprice);else rcsriskshares=0;if(first==0)rcsdisplayvars()}
function rclsavebaseloss(){multichart[8]=trimnumrecalc(1.00*document.rclrecalc.baseloss.value);activelist[6]=multichart.join(",");updateglobs(0,activelist[0],0);callsavewindow(3);showpoptext('Saved base loss value.',smallbutstr+'onclick="getid(\'poptext\').style.display=\'none\';">OK</span>','rclbase',50,70,0)}
function rcssavebaseloss(){multichart[8]=trimnumrecalc(1.00*document.rcsrecalc.baseloss.value);activelist[6]=multichart.join(",");updateglobs(0,activelist[0],0);callsavewindow(3);showpoptext('Saved base loss value.',smallbutstr+'onclick="getid(\'poptext\').style.display=\'none\';">OK</span>','rcsbase',50,70,0)}
function rclsavetradeamt(){multichart[9]=dollartrim(1.00*document.rclrecalc.tradeamt.value);activelist[6]=multichart.join(",");updateglobs(0,activelist[0],0);callsavewindow(3);showpoptext('Saved trade amount value.',smallbutstr+'onclick="getid(\'poptext\').style.display=\'none\';">OK</span>','rcltrade',50,70,0)}
function rcssavetradeamt(){multichart[9]=dollartrim(1.00*document.rcsrecalc.tradeamt.value);activelist[6]=multichart.join(",");updateglobs(0,activelist[0],0);callsavewindow(3);showpoptext('Saved trade amount value.',smallbutstr+'onclick="getid(\'poptext\').style.display=\'none\';">OK</span>','rcstrade',50,70,0)}
function rcldisplayvars(){document.rclrecalc.price.value=rclprice;document.rclrecalc.stop.value=rclstop;document.rclrecalc.loss.value=rclloss;document.rclrecalc.target1.value=rcltarget1;document.rclrecalc.target2.value=rcltarget2;document.rclrecalc.profit1.value=rclprofit1;document.rclrecalc.profit2.value=rclprofit2;document.getElementById("rclpl1rat").innerHTML=rclpl1rat+':1 &nbsp;('+rclpl1desc+')';document.getElementById("rclpl2rat").innerHTML=rclpl2rat+':1 &nbsp;('+rclpl2desc+')';if(rclbreaklvl>0){document.rclrecalc.breakt.value=rclbreakt;document.rclrecalc.breakp.value=rclbreakp;document.getElementById("rclplbrat").innerHTML=rclplbrat+':1 &nbsp;('+rclplbdesc+')'}
document.rclrecalc.tradeamt.value=rcltradeamt;document.rclrecalc.tradeshares.value=rcltradeshares;document.rclrecalc.baseloss.value=rclbaseloss;document.getElementById("rclriskamt").innerHTML=rclriskamt;var modstr='';document.getElementById("rclriskshares").innerHTML=rclriskshares+modstr;document.getElementById("rclriskloss").innerHTML=rclloss;if(rclriskamt>rcltradeamt)document.getElementById("rclriskhigher").innerHTML='** Risk trade amount higher than base amount';else document.getElementById("rclriskhigher").innerHTML=''}
function rcsdisplayvars(){document.rcsrecalc.price.value=rcsprice;document.rcsrecalc.stop.value=rcsstop;document.rcsrecalc.loss.value=rcsloss;document.rcsrecalc.target1.value=rcstarget1;document.rcsrecalc.target2.value=rcstarget2;document.rcsrecalc.profit1.value=rcsprofit1;document.rcsrecalc.profit2.value=rcsprofit2;document.getElementById("rcspl1rat").innerHTML=rcspl1rat+':1 &nbsp;('+rcspl1desc+')';document.getElementById("rcspl2rat").innerHTML=rcspl2rat+':1 &nbsp;('+rcspl2desc+')';if(rcsbreaklvl>0){document.rcsrecalc.breakt.value=rcsbreakt;document.rcsrecalc.breakp.value=rcsbreakp;document.getElementById("rcsplbrat").innerHTML=rcsplbrat+':1 &nbsp;('+rcsplbdesc+')'}
document.rcsrecalc.tradeamt.value=rcstradeamt;document.rcsrecalc.tradeshares.value=rcstradeshares;document.rcsrecalc.baseloss.value=rcsbaseloss;document.getElementById("rcsriskamt").innerHTML=rcsriskamt;var modstr='';document.getElementById("rcsriskshares").innerHTML=rcsriskshares+modstr;document.getElementById("rcsriskloss").innerHTML=rcsloss;if(rcsriskamt>rcstradeamt)document.getElementById("rcsriskhigher").innerHTML='** Risk trade amount higher than base amount';else document.getElementById("rcsriskhigher").innerHTML=''}
function rcldecodevars(first){rclprice=trimnumrecalc(1.00*(cprice));rcltarget1=trimnumrecalc(1.00*(target1_long));rcltarget2=trimnumrecalc(1.00*(target2_long));if(rcltarget1<0.1)rcltarget1=0.1;if(rcltarget2<0.1)rcltarget2=0.1;rclstop=trimnumrecalc(1.00*(shortprice));rclbreaklvl=1.00*(upsidebreak);rclbreakamt=rclbreaklvl+1.00*(upbrkamount)-rclprice;if(multichart.length==10)rcltradeamt=dollartrim(1.00*multichart[9]);rclbaseloss=trimnumrecalc(1.00*multichart[8]);if(first=1)rclcalcvars(1)}
function rcsdecodevars(first){rcsprice=trimnumrecalc(1.00*(cprice));rcstarget1=trimnumrecalc(1.00*(target1_short));rcstarget2=trimnumrecalc(1.00*(target2_short));if(rcstarget1<0.1)rcstarget1=0.1;if(rcstarget2<0.1)rcstarget2=0.1;rcsstop=trimnumrecalc(1.00*(coverprice));rcsbreaklvl=1.00*(dwnsidebreak);rcsbreakamt=rcsprice-(rcsbreaklvl-1.00*(dwnbrkamount));if(multichart.length==10)rcstradeamt=dollartrim(1.00*multichart[9]);rcsbaseloss=trimnumrecalc(1.00*multichart[8]);if(first=1)rcscalcvars(1)}
function rclwriteoutput(){rcldecodevars(1);var l3=[],n=0,bts=' class="ssp18" style="dislpay:inline-block;margin:0px;padding:5px 10px 4px 10px;border-width:0px;border-radius:12px;background:#6E87A4;color:#fff;cursor:pointer;"',cwidth=365;if(winwidth<smallmobilewidth)cwidth=344;l3[n++]='<form id="rclrecalcid" style="margin:0px;padding:0px;" name="rclrecalc" onSubmit="return false">';l3[n++]='<div class="ssp16" style="width:'+cwidth+'px;background:#eeeff0;border:1px solid #cacbcc;border-radius:12px;padding:5px;padding-right:0px;">';l3[n++]='<div class="ssp17b" style="display:inline-block;color:#0000ff">Long ReCalc</div>';l3[n++]='<div style="display:inline-block;padding-left:40px;"><div '+bts+' onClick="javascript:rclcalcvars(0);">ReCalc</div></div>';l3[n++]='<div style="display:inline-block;padding-left:20px;"><div '+bts+' onClick="javascript:rcldecodevars(1);javascript:rcldisplayvars();">Reset</div></div>';l3[n++]='<div class="ssp14" style="padding-top:7px;padding-left:15px;"><i>Adjust the long trade & breakout</i></div>';l3[n++]='<div style="padding:0px;padding-top:8px;line-height:1.5em;color:#000" class="ssp16">';var inpstr=' class="ssp16" style="color:#000;text-align:right;vertical-align:middle;padding:3px 3px 2px 0px;border:1px solid #cacbcc;border-radius:3px;"';l3[n++]='<div style="height:3px;"><!-- --></div>';l3[n++]='Price <input '+inpstr+' type="TEXT" size="6" name="price" VALUE=""> ';l3[n++]='Stop <input '+inpstr+' type="TEXT" size="6" name="stop" VALUE=""> ';l3[n++]='Loss <input '+inpstr+' type="TEXT" size="3" name="loss" VALUE="">%';l3[n++]='<div style="height:14px;"><!-- --></div>';l3[n++]='Target 1 <input '+inpstr+' type="TEXT" size="6" name="target1" VALUE=""> &nbsp; ';l3[n++]='Profit <input '+inpstr+' type="TEXT" size="3" name="profit1" VALUE="">%';l3[n++]='<div style="height:4px;"><!-- --></div>';l3[n++]='P/L ratio: <span id="rclpl1rat"><!-- --></span>';l3[n++]='<div style="height:10px;"><!-- --></div>';l3[n++]='Target 2 <input '+inpstr+' type="TEXT" size="6" name="target2" VALUE=""> &nbsp; ';l3[n++]='Profit <input '+inpstr+' type="TEXT" size="3" name="profit2" VALUE="">%';l3[n++]='<div style="height:4px;"><!-- --></div>';l3[n++]='P/L ratio: <span id="rclpl2rat"><!-- --></span>';l3[n++]='<div style="height:10px;"><!-- --></div>';if(rclbreaklvl>0){l3[n++]='Breakout Target <input '+inpstr+' type="TEXT" size="6" name="breakt" VALUE=""> &nbsp; ';l3[n++]='Profit <input '+inpstr+' type="TEXT" size="3" name="breakp" VALUE="">%';l3[n++]='<div style="height:4px;"><!-- --></div>';l3[n++]='P/L ratio: <span id="rclplbrat"><!-- --></span>';l3[n++]='<div style="height:10px;"><!-- --></div>'}
l3[n++]='Trade $<input '+inpstr+' type="TEXT" size="7" name="tradeamt" VALUE=""> &nbsp; <a style="text-decoration:none" id="rcltrade" class="ssp17" href="javascript:rclsavetradeamt();">Save</a> &nbsp; ';l3[n++]='Shares <input '+inpstr+' type="TEXT" size="6" name="tradeshares" VALUE="">';l3[n++]='<div style="height:14px;"><!-- --></div>';l3[n++]='Base Loss <input '+inpstr+' type="TEXT" size="3" name="baseloss" VALUE="">% &nbsp;&nbsp; <a style="text-decoration:none" id="rclbase" class="ssp17" href="javascript:rclsavebaseloss();">Save</a> &nbsp;&nbsp;<span style="cursor:pointer;" id="basetxt" onclick="BasePopDescr(\'stop\',\'basetxt\');"><img style="position:relative;top:2px;" '+ilnk+'qicont.png" width="24">&nbsp; </span>';l3[n++]='<div style="height:4px;"><!-- --></div>';l3[n++]='Risk $<span id="rclriskamt"><!-- --></span> or ';l3[n++]='<span id="rclriskshares"><!-- --></span> shares at <span id="rclriskloss"><!-- --></span>% loss';l3[n++]='<br><span class="ssp14" id="rclriskhigher"><!-- --></span>';l3[n++]='</div></div>';l3[n++]='</form>';inhtml(l3.join(""))}
function BasePopDescr(tradetype,idstr){showpoptext2('Base loss lowers your trade amount to compensate for a stock with both high profit and high '+tradetype+' loss (keeps $ loss and risk constant). For example: If your per trade amount is $10,000 with a normal(base) '+tradetype+' loss of 3.3% and profit 10% (3:1 P/L ratio) and you invest in stock which has a 6.6% loss and a profit of 20% (same 3:1 P/L ratio) then you would have a new (risk) trade amount of half the original ($5,000.00). This would produce the same trade profit($) and loss as your normal trade profit and loss(10%, 3.3%).',smallbutstr+'onclick="getid(\'poptext2\').style.display=\'none\';">OK</span>',idstr,150,220,0)}
function rcswriteoutput(){rcsdecodevars(1);var l3=[],n=0,bts=' class="ssp18" style="display:inline-block;margin:0px;padding:5px 10px 4px 10px;border-width:0px;border-radius:12px;background:#6E87A4;color:#fff;cursor:pointer;"',cwidth=365;if(winwidth<smallmobilewidth)cwidth=340;l3[n++]='<form id="rcsrecalcid" style="margin:0px;padding:0px;" name="rcsrecalc" onSubmit="return false">';l3[n++]='<div style="width:'+cwidth+'px;background:#eeeff0;border:1px solid #cacbcc;border-radius:12px;padding:7px;padding-right:2px;">';l3[n++]='<div class="ssp17b" style="display:inline-block;color:#ee3333">Short ReCalc</div>';l3[n++]='<div style="display:inline-block;padding-left:40px;"><div '+bts+' onClick="javascript:rcscalcvars(0);">ReCalc</div></div>';l3[n++]='<div style="display:inline-block;padding-left:20px;"><div '+bts+' onClick="javascript:rcsdecodevars(1);javascript:rcsdisplayvars();">Reset</div></div>';l3[n++]='<div class="ssp14" style="padding-top:7px;padding-left:15px;"><i>Adjust the short trade & breakdown</i></div>';l3[n++]='<div style="padding:0px;padding-top:8px;line-height:1.5em;color:#000" class="ssp16">';var inpstr=' class="ssp16" style="color:#000;text-align:right;vertical-align:middle;padding:3px 3px 2px 0px;border:1px solid #cacbcc;border-radius:3px;"';l3[n++]='<div style="height:3px;"><!-- --></div>';l3[n++]='Price <input '+inpstr+'   type="TEXT" size="6" name="price" VALUE=""> ';l3[n++]='Cover <input '+inpstr+'   type="TEXT" size="6" name="stop" VALUE=""> ';l3[n++]='Loss <input '+inpstr+'   type="TEXT" size="3" name="loss" VALUE="">%';l3[n++]='<div style="height:14px;"><!-- --></div>';l3[n++]='Target 1 <input '+inpstr+'   type="TEXT" size="6" name="target1" VALUE=""> &nbsp; ';l3[n++]='Profit <input '+inpstr+'   type="TEXT" size="3" name="profit1" VALUE="">%';l3[n++]='<div style="height:4px;"><!-- --></div>';l3[n++]='P/L ratio: <span id="rcspl1rat"><!-- --></span>';l3[n++]='<div style="height:10px;"><!-- --></div>';l3[n++]='Target 2 <input '+inpstr+'   type="TEXT" size="6" name="target2" VALUE=""> &nbsp; ';l3[n++]='Profit <input '+inpstr+'   type="TEXT" size="3" name="profit2" VALUE="">%';l3[n++]='<div style="height:4px;"><!-- --></div>';l3[n++]='P/L ratio: <span id="rcspl2rat"><!-- --></span>';l3[n++]='<div style="height:10px;"><!-- --></div>';if(rcsbreaklvl>0){l3[n++]='Breakdown Target <input '+inpstr+'   type="TEXT" size="6" name="breakt" VALUE=""> &nbsp; ';l3[n++]='Profit <input '+inpstr+'   type="TEXT" size="3" name="breakp" VALUE="">%';l3[n++]='<div style="height:4px;"><!-- --></div>';l3[n++]='P/L ratio: <span id="rcsplbrat"><!-- --></span>';l3[n++]='<div style="height:10px;"><!-- --></div>'}
l3[n++]='Trade $<input '+inpstr+'   type="TEXT" size="7" name="tradeamt" VALUE=""> &nbsp;<a style="text-decoration:none" id="rcstrade" class="ssp17" href="javascript:rcssavetradeamt();">Save</a> &nbsp; ';l3[n++]='Shares <input '+inpstr+'   type="TEXT" size="6" name="tradeshares" VALUE="">';l3[n++]='<div style="height:14px;"><!-- --></div>';l3[n++]='Base Loss <input '+inpstr+'   type="TEXT" size="3" name="baseloss" VALUE="">% &nbsp; <a style="text-decoration:none" id="rcsbase" class="ssp17" href="javascript:rcssavebaseloss();">Save</a> &nbsp;&nbsp;<span style="cursor:pointer;" id="basetxt2" onclick="BasePopDescr(\'cover\',\'basetxt2\');">&nbsp;<img style="position:relative;top:2px;" '+ilnk+'qicont.png" width="24">&nbsp; </span>';l3[n++]='<div style="height:4px;"><!-- --></div>';l3[n++]='Risk $<span id="rcsriskamt"><!-- --></span> or ';l3[n++]='<span id="rcsriskshares"><!-- --></span> shares at <span id="rcsriskloss"><!-- --></span>% loss';l3[n++]='<br><span class="ssp14" id="rcsriskhigher"><!-- --></span>';l3[n++]='</div></div>';l3[n++]='</form>';inhtml(l3.join(""))}